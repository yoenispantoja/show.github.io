(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{a26W:function(e,t,n){"use strict";n.r(t);var a=n("SVse"),r=n("M0ag"),i=n("crmZ"),o=n("6yq/"),l=n("SfIc"),s=n("s7LF"),c=n("0FS3"),d=n("bquJ"),m=n("iInd"),g=n("ZZ88"),p=n("fCbB"),u=n("AytR"),f=n("8Y7J"),b=n("G0yt");function h(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"a",14),f["\u0275\u0275elementStart"](1,"span"),f["\u0275\u0275element"](2,"i",15),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"span",16),f["\u0275\u0275text"](5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275propertyInterpolate"]("ngClass",1===e.id?"active":""),f["\u0275\u0275propertyInterpolate"]("href",n.generateId(e.nombre,e.id,1),f["\u0275\u0275sanitizeUrl"]),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",e.nombre,""),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](e.imagenes.length)}}function v(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",19),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](e);const n=t.$implicit,a=f["\u0275\u0275nextContext"]().$implicit;return f["\u0275\u0275nextContext"]().seleccionarImagen(a.id,n.nombreImagen,n.id)})),f["\u0275\u0275element"](1,"img",20),f["\u0275\u0275element"](2,"br"),f["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]().$implicit,a=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("src",a.urlImage(n.id,e.nombreImagen),f["\u0275\u0275sanitizeUrl"])}}function y(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",17),f["\u0275\u0275elementStart"](1,"div",7),f["\u0275\u0275template"](2,v,3,1,"div",18),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275propertyInterpolate"]("ngClass",1===e.id?"show active":""),f["\u0275\u0275propertyInterpolate"]("id",n.generateId(e.nombre,e.id,2)),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",e.imagenes)}}let x=(()=>{class e{constructor(e,t){this.service=e,this.modal=t,this.urlGalerias=u.a.apiMedias+"galerias/",this.galerias=[]}ngOnInit(){this.service.getGalerias().subscribe(e=>{this.galerias=e.items})}cerrar(){this.modal.close()}urlImage(e,t){return this.urlGalerias+e+"/"+t}seleccionarImagen(e,t,n){const a=this.urlGalerias+e+"/"+t,r=this.galerias.find(t=>t.id===e).nombre;this.modal.close({urlImagen:a,seleccionada:r,imagenId:n})}generateId(e,t,n){return e=e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),1===n?"#"+e+"_"+t:e+"_"+t}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](p.a),f["\u0275\u0275directiveInject"](b.b))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-show-gallery"]],decls:16,vars:2,consts:[[1,"modal-publicacion"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"fa","fa-blog"],["type","button","aria-label","Close","tabIndex","-1",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-4"],["id","list-tab","role","tablist",1,"list-group"],["class","list-group-item list-group-item-action d-flex justify-content-between align-items-center","id","list-home-list","data-toggle","list","role","tab",3,"ngClass","href",4,"ngFor","ngForOf"],[1,"col-8"],["id","nav-tabContent",1,"tab-content"],["class","tab-pane fade","role","tabpanel",3,"ngClass","id",4,"ngFor","ngForOf"],["id","list-home-list","data-toggle","list","role","tab",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",3,"ngClass","href"],["aria-hidden","true",1,"fa","fa-angle-right"],[1,"badge","badge-primary","badge-pill"],["role","tabpanel",1,"tab-pane","fade",3,"ngClass","id"],["class","col-4",3,"click",4,"ngFor","ngForOf"],[1,"col-4",3,"click"],["width","250px",1,"img-portada","img-thumbnail",3,"src"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275elementStart"](1,"div",1),f["\u0275\u0275elementStart"](2,"h4",2),f["\u0275\u0275element"](3,"i",3),f["\u0275\u0275text"](4," Seleccione una foto de una galer\xeda"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](5,"button",4),f["\u0275\u0275listener"]("click",(function(){return t.cerrar()})),f["\u0275\u0275elementStart"](6,"span",5),f["\u0275\u0275text"](7,"\xd7"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](8,"div",6),f["\u0275\u0275elementStart"](9,"div",7),f["\u0275\u0275elementStart"](10,"div",8),f["\u0275\u0275elementStart"](11,"div",9),f["\u0275\u0275template"](12,h,6,4,"a",10),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"div",11),f["\u0275\u0275elementStart"](14,"div",12),f["\u0275\u0275template"](15,y,3,3,"div",13),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](12),f["\u0275\u0275property"]("ngForOf",t.galerias),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngForOf",t.galerias))},directives:[a.NgForOf,a.NgClass],styles:['@font-face{font-family:DinR;src:url(/assets/fonts/dinR.woff2) format("truetype")}#list-tab[_ngcontent-%COMP%]{font-family:DinR,Open Sans!important;font-size:14px}.modal-header[_ngcontent-%COMP%]{background-color:#1d1d1d;color:#fff}.img-portada[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:15px;-o-object-fit:cover;object-fit:cover;height:180px}.modal-body[_ngcontent-%COMP%]{max-height:700px;overflow-y:auto}']}),e})();var I=n("3zLz");const C=["successSwal"];function S(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",7),f["\u0275\u0275elementStart"](1,"div",8),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](e);const n=t.$implicit;return f["\u0275\u0275nextContext"]().loadGallery(n.id)})),f["\u0275\u0275element"](2,"img",9),f["\u0275\u0275elementStart"](3,"div",10),f["\u0275\u0275elementStart"](4,"p",11),f["\u0275\u0275text"](5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("src",null==e?null:e.imageUrl,f["\u0275\u0275sanitizeUrl"]),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"]("",e.nombreGaleria," ")}}const w=[{path:"",component:(()=>{class e{constructor(e,t,n){this.modalService=e,this.service=t,this.config=n,this.recents=[],this.urlImagenesPortadaRecents=u.a.apiMedias+"galerias/",n.size="xl"}ngOnInit(){this.cargarDatos()}cargarDatos(){this.service.getRecentsWorks().subscribe(e=>{e.items.map(e=>{this.recents.push({id:e.id,imageUrl:this.concatImageUrl(e.galeriaId,e.nombreImagen),nombreGaleria:e.nombreGaleria}),this.recents.sort((e,t)=>e.id-t.id)})})}loadGallery(e){this.modalService.open(x).result.then(t=>{t&&this.service.update_recent({id:e,imagegaleriaId:t.imagenId}).subscribe(()=>{this.recents=[],this.successSwal.show(),this.cargarDatos()})})}concatImageUrl(e,t){return`${this.urlImagenesPortadaRecents}${e}/${t}`}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](b.f),f["\u0275\u0275directiveInject"](p.a),f["\u0275\u0275directiveInject"](b.g))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-recents-works-list"]],viewQuery:function(e,t){var n;1&e&&f["\u0275\u0275viewQuery"](C,!0),2&e&&f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.successSwal=n.first)},decls:9,vars:6,consts:[[1,"titlePage"],[3,"heading","icon"],[1,"row","mb-3"],[1,"col-12","text-center","chooseText"],["class","col-4",4,"ngFor","ngForOf"],["title","Informaci\xf3n","text","La galer\xeda ha sido actualizada","type","success",3,"showCancelButton","focusCancel"],["successSwal",""],[1,"col-4"],[1,"card",3,"click"],["alt","Card image cap",1,"card-img-top","img-recent",3,"src"],[1,"card-body"],[1,"card-text"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275elementStart"](1,"div",0),f["\u0275\u0275element"](2,"app-page-header",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"div",2),f["\u0275\u0275elementStart"](4,"div",3),f["\u0275\u0275text"](5," [Selecciona las 12 fotos a mostrar en la galer\xeda] "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](6,S,6,2,"div",4),f["\u0275\u0275element"](7,"swal",5,6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("@routerTransition",void 0),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("heading","Im\xe1genes de la galer\xeda")("icon","fa-pencil-square"),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngForOf",t.recents),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("showCancelButton",!1)("focusCancel",!0))},directives:[I.a,a.NgForOf,l.a],styles:[".chooseText[_ngcontent-%COMP%]{margin-bottom:30px;color:#0079fb}.img-recent[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:15px;-o-object-fit:cover;object-fit:cover;height:420px}.card[_ngcontent-%COMP%]{margin-bottom:50px;border:2px solid #4c4e50}"],data:{animation:[Object(g.a)()]}}),e})()}];let E=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[m.h.forChild(w)],m.h]}),e})();n("nrW+"),n.d(t,"RecentsWorksModule",(function(){return O}));let O=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.CommonModule,E,r.b,i.b,o.a,l.b.forRoot({buttonsStyling:!1,customClass:"modal-content",confirmButtonClass:"btn btn-primary",cancelButtonClass:"btn"}),s.k,s.v,c.e.forRoot(),d.a,r.c.forRoot()]]}),e})()}}]);