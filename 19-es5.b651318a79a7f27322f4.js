function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{DG0X:function(e,t,n){"use strict";n.r(t);var a=n("SVse"),i=n("M0ag"),r=n("crmZ"),o=n("6yq/"),l=n("SfIc"),c=n("s7LF"),s=n("0FS3"),m=n("bquJ"),d=n("iInd"),p=n("ZZ88"),u=n("+S46"),f=n("AytR"),v=n("G0yt"),g=n("m3o8"),h=n("8Y7J"),y=n("ljdc");function S(e,t){if(1&e){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"div"),h["\u0275\u0275elementStart"](1,"img",18),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](n);var e=t.index;return h["\u0275\u0275nextContext"]().open(e)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("src",a.thumb,h["\u0275\u0275sanitizeUrl"])}}var b,E,C=((b=function(){function e(t,n,a){_classCallCheck(this,e),this.route=t,this.modal=n,this._lightbox=a,this.urlFotoDestacada=f.a.apiMedias+"/projects/",this.fotosPublicacion=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.urlFotoDestacada+=this.project.id+"/"+this.project.imagenDestacada,this.fotosPublicacion=[{src:this.urlFotoDestacada,caption:"Main image",thumb:this.urlFotoDestacada}]}},{key:"open",value:function(e){this._lightbox.open(this.fotosPublicacion,e)}},{key:"close",value:function(){this._lightbox.close()}},{key:"cerrar",value:function(){this.modal.dismissAll()}}]),e}()).\u0275fac=function(e){return new(e||b)(h["\u0275\u0275directiveInject"](d.a),h["\u0275\u0275directiveInject"](v.f),h["\u0275\u0275directiveInject"](g.Lightbox))},b.\u0275cmp=h["\u0275\u0275defineComponent"]({type:b,selectors:[["app-view-project"]],inputs:{project:"project"},decls:28,vars:7,consts:[[1,"modal-project"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"fa","fa-blog"],["type","button","aria-label","Close","tabIndex","-1",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"post"],[1,"post-info","row"],[1,"post-author","col-6"],[1,"fa","fa-align-justify"],[1,"post-date","col-6"],[1,"fa","fa-check-circle"],[1,"post-media","text-center"],[4,"ngFor","ngForOf"],[1,"divBody",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["width","400px",1,"img-portada","img-thumbnail",3,"src","click"]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275elementStart"](1,"div",1),h["\u0275\u0275elementStart"](2,"h4",2),h["\u0275\u0275element"](3,"i",3),h["\u0275\u0275text"](4),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"button",4),h["\u0275\u0275listener"]("click",(function(){return t.cerrar()})),h["\u0275\u0275elementStart"](6,"span",5),h["\u0275\u0275text"](7,"\xd7"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"div",6),h["\u0275\u0275elementStart"](9,"article",7),h["\u0275\u0275elementStart"](10,"div",8),h["\u0275\u0275elementStart"](11,"span",9),h["\u0275\u0275elementStart"](12,"strong"),h["\u0275\u0275element"](13,"i",10),h["\u0275\u0275text"](14," Short description:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](15),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](16,"span",11),h["\u0275\u0275elementStart"](17,"strong"),h["\u0275\u0275element"](18,"i",12),h["\u0275\u0275text"](19," Status:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](20),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](21,"div",13),h["\u0275\u0275template"](22,S,2,1,"div",14),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](23,"div",15),h["\u0275\u0275pipe"](24,"safeHtml"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](25,"div",16),h["\u0275\u0275elementStart"](26,"button",17),h["\u0275\u0275listener"]("click",(function(){return t.cerrar()})),h["\u0275\u0275text"](27,"Close"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&e&&(h["\u0275\u0275advance"](4),h["\u0275\u0275textInterpolate1"](" ",t.project.name,""),h["\u0275\u0275advance"](11),h["\u0275\u0275textInterpolate1"](" ",t.project.short_description,""),h["\u0275\u0275advance"](5),h["\u0275\u0275textInterpolate1"](" ",t.project.active?"Active":"Inactive",""),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngForOf",t.fotosPublicacion),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("innerHTML",h["\u0275\u0275pipeBind1"](24,5,t.project.body),h["\u0275\u0275sanitizeHtml"]))},directives:[a.NgForOf],pipes:[y.a],styles:[".post[_ngcontent-%COMP%]{height:500px;overflow-y:auto;overflow-x:hidden}.post-info[_ngcontent-%COMP%]{margin-bottom:20px}.img-portada[_ngcontent-%COMP%]{cursor:pointer}.modal-header[_ngcontent-%COMP%]{background-color:#1d1d1d}.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]{color:var(--white)}.divBody[_ngcontent-%COMP%]{margin:20px 0}"],data:{animation:[Object(p.a)()]}}),b),w=n("3zLz"),j=n("pK/H"),x=["successSwal"],k=function(){return["router-link-active"]},I=((E=function(){function e(t,n,a,i){_classCallCheck(this,e),this.myServicio=t,this.router=n,this.modalService=a,this.ngZone=i,this.urlApi=f.a.apiUrl+"/proyecto",this.nombresColumnas=["Thumbnail","Name","Short Description","Gallery"]}return _createClass(e,[{key:"ngOnInit",value:function(){this.columnasData=this.myServicio.getColumnasTablaProjects()}},{key:"getDismissReason",value:function(e){return e===v.a.ESC?"by pressing ESC":e===v.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(e)}},{key:"verDetallesProject",value:function(e){var t=this,n=this.modalService.open(C,{size:"lg"});n.componentInstance.project=e,n.result.then((function(e){t.closeResult="Closed with: ".concat(e)}),(function(e){t.closeResult="Dismissed ".concat(t.getDismissReason(e))}))}},{key:"editarProject",value:function(e){var t=this;this.ngZone.run((function(){return t.router.navigate(["/admin/projects/edit-project",e.id])})).then()}},{key:"eliminarProject",value:function(e){var t=this;this.myServicio.deleteProject(e).subscribe((function(e){e&&t.successSwal.show()}),(function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||E)(h["\u0275\u0275directiveInject"](u.a),h["\u0275\u0275directiveInject"](d.e),h["\u0275\u0275directiveInject"](v.f),h["\u0275\u0275directiveInject"](h.NgZone))},E.\u0275cmp=h["\u0275\u0275defineComponent"]({type:E,selectors:[["app-projects-list"]],viewQuery:function(e,t){var n;1&e&&h["\u0275\u0275viewQuery"](x,!0),2&e&&h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.successSwal=n.first)},decls:11,vars:11,consts:[[1,"titlePage"],[3,"heading","icon"],["routerLink","/admin/projects/add-project",1,"btn","btn-sm","btn-primary","linkAdicionar",3,"routerLinkActive"],[1,"fa","fa-plus-circle"],[1,"row"],[1,"col-md-12"],[3,"nombresColumnas","urlApi","tituloReporte","columnasData","verDetallesClick","editarClick","eliminarClick"],["title","Information","text","The project has been deleted","type","success",3,"showCancelButton","focusCancel"],["successSwal",""]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"div"),h["\u0275\u0275elementStart"](1,"div",0),h["\u0275\u0275element"](2,"app-page-header",1),h["\u0275\u0275elementStart"](3,"a",2),h["\u0275\u0275element"](4,"i",3),h["\u0275\u0275text"](5," New project "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"div",4),h["\u0275\u0275elementStart"](7,"div",5),h["\u0275\u0275elementStart"](8,"dymtabla",6),h["\u0275\u0275listener"]("verDetallesClick",(function(e){return t.verDetallesProject(e)}))("editarClick",(function(e){return t.editarProject(e)}))("eliminarClick",(function(e){return t.eliminarProject(e)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](9,"swal",7,8),h["\u0275\u0275elementEnd"]()),2&e&&(h["\u0275\u0275property"]("@routerTransition",void 0),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("heading","Project list")("icon","fa-pencil-square"),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("routerLinkActive",h["\u0275\u0275pureFunction0"](10,k)),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("nombresColumnas",t.nombresColumnas)("urlApi",t.urlApi)("tituloReporte","Project list")("columnasData",t.columnasData),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("showCancelButton",!1)("focusCancel",!0))},directives:[w.a,d.g,d.f,j.a,l.a],styles:[".titlePage[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;justify-content:space-between}.titlePage[_ngcontent-%COMP%]   .linkAdicionar[_ngcontent-%COMP%]{height:32px;width:150px}"],data:{animation:[Object(p.a)()]}}),E),_=n("fCbB"),P=["confirmSwal"];function O(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"option",30),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;h["\u0275\u0275propertyInterpolate"]("value",n.key),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"]("",n.value," ")}}var D=["confirmSwal"],M=["notFoundSwal"];function F(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"option",34),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;h["\u0275\u0275propertyInterpolate"]("value",n.key),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"]("",n.value," ")}}var N,q,B,R=[{path:"",component:I},{path:"add-project",component:(q=function(){function e(t,n,a){_classCallCheck(this,e),this.formBuilder=t,this.myServicio=n,this.serviceGaleria=a,this.imgSrc="assets/images/upload_img.png",this.galleries=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.form=this.formBuilder.group({name:["",[c.z.required]],galeriaId:["",[c.z.required]],short_description:["",[c.z.required]],body:["",[c.z.required]],imagenDestacada:["",[c.z.required]]}),this.serviceGaleria.getGalerias().subscribe((function(t){t.items.map((function(t){e.galleries.push({key:t.id,value:t.nombre})}))}))}},{key:"loadImage",value:function(e){var t=this;if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){t.imgSrc=e.target.result.toString()},n.readAsDataURL(e.target.files[0]),this.archivoImagen=e.target.files[0]}}},{key:"onSubmit",value:function(){var e=this,t=Object.assign(this.form.value),n=new FormData;n.append("datos",JSON.stringify(t)),n.append("imagenDestacada",this.archivoImagen,"proy.png"),this.myServicio.addProject(n).subscribe((function(t){t&&e.confirmSwal.show()}),(function(e){console.log(e)}))}},{key:"cerrarVentana",value:function(){this.form.reset(),this.imgSrc="assets/images/upload_img.png"}},{key:"getInitData",value:function(){var e=this;return{height:400,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste imagetools wordcount"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | code",content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i","assets/css/codepen.min.css"],image_title:!0,automatic_uploads:!0,file_picker_types:"image",images_upload_handler:function(t,n,a){tinymce.activeEditor.editorUpload.blobCache.add(t);var i=new File([t.blob()],t.blob().name,{type:t.blob().type}),r=new FormData;r.append("imagenPost",i,"proy"),e.myServicio.uploadImagesPost(r).subscribe((function(e){n(f.a.apiMedias+"/projects/all/"+e)}))}}}}]),e}(),q.\u0275fac=function(e){return new(e||q)(h["\u0275\u0275directiveInject"](c.e),h["\u0275\u0275directiveInject"](u.a),h["\u0275\u0275directiveInject"](_.a))},q.\u0275cmp=h["\u0275\u0275defineComponent"]({type:q,selectors:[["app-add-project"]],viewQuery:function(e,t){var n;1&e&&h["\u0275\u0275staticViewQuery"](P,!0),2&e&&h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.confirmSwal=n.first)},inputs:{src:"src"},decls:59,vars:11,consts:[[3,"heading","icon"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-6"],[1,"form-group"],["for","",1,"text-primary"],[1,"input-group"],[1,"input-group-prepend"],["id","addon-wrapping",1,"input-group-text","text-primary"],["type","text","formControlName","name","placeholder","Project Name","aria-describedby","helpId",1,"form-control"],["formControlName","galeriaId",1,"form-control"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],["type","text","formControlName","short_description","placeholder","Sort description","aria-describedby","helpId",1,"form-control"],["id","twiny","apiKey","voodxvn25tlrviree2bqwnao599n8buydbimqiv1tcoo8okn","initialValue","<p>Initial content of the editor</p>",3,"formControlName","init"],[1,"card"],[1,"card-header"],[1,"fa","fa-image"],[1,"card-body","text-center"],["title","Click here to load image",1,"image-upload"],["for","fileImagenDestacada"],["height","320px",3,"src"],["id","fileImagenDestacada","formControlName","imagenDestacada","type","file","capture","camera","accept","image/*",3,"change"],[1,"row","pt-2","mb-5"],[1,"col-12","text-right"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa","fa-save"],["title","Information","text","The project has been added","type","success",3,"showCancelButton","focusCancel","confirm"],["confirmSwal",""],[3,"value"]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"div"),h["\u0275\u0275element"](1,"app-page-header",0),h["\u0275\u0275elementStart"](2,"form",1),h["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),h["\u0275\u0275elementStart"](3,"div",2),h["\u0275\u0275elementStart"](4,"div",3),h["\u0275\u0275elementStart"](5,"div",4),h["\u0275\u0275elementStart"](6,"label",5),h["\u0275\u0275text"](7,"Name:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"div",6),h["\u0275\u0275elementStart"](9,"div",7),h["\u0275\u0275elementStart"](10,"span",8),h["\u0275\u0275text"](11,"N"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](12,"input",9),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](13,"div",3),h["\u0275\u0275elementStart"](14,"div",4),h["\u0275\u0275elementStart"](15,"label",5),h["\u0275\u0275text"](16,"Gallery:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](17,"div",6),h["\u0275\u0275elementStart"](18,"div",7),h["\u0275\u0275elementStart"](19,"span",8),h["\u0275\u0275text"](20,"G"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](21,"select",10),h["\u0275\u0275elementStart"](22,"option",11),h["\u0275\u0275text"](23,"Select gallery"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](24,O,2,2,"option",12),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](25,"div",2),h["\u0275\u0275elementStart"](26,"div",13),h["\u0275\u0275elementStart"](27,"div",4),h["\u0275\u0275elementStart"](28,"label",5),h["\u0275\u0275text"](29,"Short description:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](30,"div",6),h["\u0275\u0275elementStart"](31,"div",7),h["\u0275\u0275elementStart"](32,"span",8),h["\u0275\u0275text"](33,"S"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](34,"input",14),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](35,"div",4),h["\u0275\u0275elementStart"](36,"label",5),h["\u0275\u0275text"](37,"Long description:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](38,"editor",15),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](39,"div",2),h["\u0275\u0275elementStart"](40,"div",13),h["\u0275\u0275elementStart"](41,"div",16),h["\u0275\u0275elementStart"](42,"div",17),h["\u0275\u0275elementStart"](43,"strong"),h["\u0275\u0275element"](44,"i",18),h["\u0275\u0275text"](45," Cover Image"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](46,"div",19),h["\u0275\u0275elementStart"](47,"div",4),h["\u0275\u0275elementStart"](48,"div",20),h["\u0275\u0275elementStart"](49,"label",21),h["\u0275\u0275element"](50,"img",22),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](51,"input",23),h["\u0275\u0275listener"]("change",(function(e){return t.loadImage(e)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](52,"div",24),h["\u0275\u0275elementStart"](53,"div",25),h["\u0275\u0275elementStart"](54,"button",26),h["\u0275\u0275element"](55,"i",27),h["\u0275\u0275text"](56," Save "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](57,"swal",28,29),h["\u0275\u0275listener"]("confirm",(function(){return t.cerrarVentana()})),h["\u0275\u0275elementEnd"]()),2&e&&(h["\u0275\u0275property"]("@routerTransition",void 0),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("heading","New project")("icon","fa-pencil-square"),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("formGroup",t.form),h["\u0275\u0275advance"](22),h["\u0275\u0275property"]("ngForOf",t.galleries),h["\u0275\u0275advance"](14),h["\u0275\u0275property"]("formControlName","body")("init",t.getInitData()),h["\u0275\u0275advance"](12),h["\u0275\u0275property"]("src",t.imgSrc,h["\u0275\u0275sanitizeUrl"]),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("disabled",t.form.invalid),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("showCancelButton",!1)("focusCancel",!0))},directives:[w.a,c.B,c.p,c.j,c.c,c.o,c.h,c.x,c.s,c.A,a.NgForOf,r.a,l.a],styles:[".image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.image-upload[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.clsImagenDestacada[_ngcontent-%COMP%]{text-align:center}"],data:{animation:[Object(p.a)()]}}),q)},{path:"edit-project/:id",component:(N=function(){function e(t,n,a,i,r){_classCallCheck(this,e),this.formBuilder=t,this.myServicio=n,this.serviceGaleria=a,this.route=i,this.router=r,this.urlFotosDestacadas=f.a.apiMedias+"projects",this.imgSrc="assets/images/upload_img.png",this.galleries=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.idProject=Number.parseInt(this.route.snapshot.paramMap.get("id")),this.myServicio.showProject(this.idProject).subscribe((function(t){t[0]?(e.form.controls.name.setValue(t[0].name),e.form.controls.galeriaId.setValue(t[0].galeria.id),e.form.controls.short_description.setValue(t[0].short_description),e.form.controls.active.setValue(t[0].active),e.form.controls.body.setValue(t[0].body),e.imgSrc=e.urlFotosDestacadas+"/"+e.idProject+"/"+t[0].imagenDestacada):e.notFoundSwal.show()})),this.form=this.formBuilder.group({name:["",[c.z.required]],galeriaId:["",[c.z.required]],short_description:["",[c.z.required]],body:["",[c.z.required]],active:["",[]],imagenDestacada:["",[]]}),this.serviceGaleria.getGalerias().subscribe((function(t){t.items.map((function(t){e.galleries.push({key:t.id,value:t.nombre})}))}))}},{key:"loadImage",value:function(e){var t=this;if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){t.imgSrc=e.target.result.toString()},n.readAsDataURL(e.target.files[0]),this.archivoImagen=e.target.files[0]}}},{key:"onSubmit",value:function(){var e=this,t=Object.assign(this.form.value),n=new FormData;n.append("datos",JSON.stringify(t)),this.archivoImagen&&n.append("imagenDestacada",this.archivoImagen,"proy.png"),this.myServicio.editProject(this.idProject,n).subscribe((function(t){t&&e.confirmSwal.show()}),(function(e){console.log(e)}))}},{key:"cerrarVentana",value:function(){this.router.navigate(["/admin/projects"])}},{key:"getInitData",value:function(){var e=this;return{height:400,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste imagetools wordcount"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | code",content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i","assets/css/codepen.min.css"],image_title:!0,automatic_uploads:!0,file_picker_types:"image",images_upload_handler:function(t,n,a){tinymce.activeEditor.editorUpload.blobCache.add(t);var i=new File([t.blob()],t.blob().name,{type:t.blob().type}),r=new FormData;r.append("imagenPost",i,"proy"),e.myServicio.uploadImagesPost(r).subscribe((function(e){n(f.a.apiMedias+"/projects/all/"+e)}))}}}}]),e}(),N.\u0275fac=function(e){return new(e||N)(h["\u0275\u0275directiveInject"](c.e),h["\u0275\u0275directiveInject"](u.a),h["\u0275\u0275directiveInject"](_.a),h["\u0275\u0275directiveInject"](d.a),h["\u0275\u0275directiveInject"](d.e))},N.\u0275cmp=h["\u0275\u0275defineComponent"]({type:N,selectors:[["app-edit-project"]],viewQuery:function(e,t){var n;1&e&&(h["\u0275\u0275staticViewQuery"](D,!0),h["\u0275\u0275staticViewQuery"](M,!0)),2&e&&(h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.confirmSwal=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.notFoundSwal=n.first))},inputs:{src:"src"},decls:66,vars:13,consts:[[3,"heading","icon"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-6"],[1,"form-group"],["for","",1,"text-primary"],[1,"input-group"],[1,"input-group-prepend"],["id","addon-wrapping",1,"input-group-text","text-primary"],["type","text","formControlName","name","placeholder","Project Name","aria-describedby","helpId",1,"form-control"],["formControlName","galeriaId",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","short_description","placeholder","Sort description","aria-describedby","helpId",1,"form-control"],[1,"divCheck"],["for","check"],["type","checkbox","id","check",1,"clsCheck",3,"formControlName"],[1,"col-12"],["id","twiny","apiKey","voodxvn25tlrviree2bqwnao599n8buydbimqiv1tcoo8okn","initialValue","<p>Initial content of the editor</p>",3,"formControlName","init"],[1,"card"],[1,"card-header"],[1,"fa","fa-image"],[1,"card-body","text-center"],["title","Click here to load image",1,"image-upload"],["for","fileImagenDestacada"],["height","320px",3,"src"],["id","fileImagenDestacada","formControlName","imagenDestacada","type","file","capture","camera","accept","image/*",3,"change"],[1,"row","pt-2","mb-5"],[1,"col-12","text-right"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa","fa-save"],["title","Information","text","The project has been updated","type","success",3,"showCancelButton","focusCancel","confirm"],["confirmSwal",""],["title","Information","text","Project not found with this id","type","error",3,"showCancelButton","confirm"],["notFoundSwal",""],[3,"value"]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"div"),h["\u0275\u0275element"](1,"app-page-header",0),h["\u0275\u0275elementStart"](2,"form",1),h["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),h["\u0275\u0275elementStart"](3,"div",2),h["\u0275\u0275elementStart"](4,"div",3),h["\u0275\u0275elementStart"](5,"div",4),h["\u0275\u0275elementStart"](6,"label",5),h["\u0275\u0275text"](7,"Name:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"div",6),h["\u0275\u0275elementStart"](9,"div",7),h["\u0275\u0275elementStart"](10,"span",8),h["\u0275\u0275text"](11,"N"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](12,"input",9),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](13,"div",3),h["\u0275\u0275elementStart"](14,"div",4),h["\u0275\u0275elementStart"](15,"label",5),h["\u0275\u0275text"](16,"Gallery:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](17,"div",6),h["\u0275\u0275elementStart"](18,"div",7),h["\u0275\u0275elementStart"](19,"span",8),h["\u0275\u0275text"](20,"G"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](21,"select",10),h["\u0275\u0275template"](22,F,2,2,"option",11),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](23,"div",2),h["\u0275\u0275elementStart"](24,"div",3),h["\u0275\u0275elementStart"](25,"div",4),h["\u0275\u0275elementStart"](26,"label",5),h["\u0275\u0275text"](27,"Short description:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](28,"div",6),h["\u0275\u0275elementStart"](29,"div",7),h["\u0275\u0275elementStart"](30,"span",8),h["\u0275\u0275text"](31,"S"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](32,"input",12),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](33,"div",3),h["\u0275\u0275elementStart"](34,"div",13),h["\u0275\u0275elementStart"](35,"label",14),h["\u0275\u0275text"](36,"Active "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](37,"input",15),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](38,"div",2),h["\u0275\u0275elementStart"](39,"div",16),h["\u0275\u0275elementStart"](40,"div",4),h["\u0275\u0275elementStart"](41,"label",5),h["\u0275\u0275text"](42,"Long description:"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](43,"editor",17),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](44,"div",2),h["\u0275\u0275elementStart"](45,"div",16),h["\u0275\u0275elementStart"](46,"div",18),h["\u0275\u0275elementStart"](47,"div",19),h["\u0275\u0275elementStart"](48,"strong"),h["\u0275\u0275element"](49,"i",20),h["\u0275\u0275text"](50," Cover Image"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](51,"div",21),h["\u0275\u0275elementStart"](52,"div",4),h["\u0275\u0275elementStart"](53,"div",22),h["\u0275\u0275elementStart"](54,"label",23),h["\u0275\u0275element"](55,"img",24),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](56,"input",25),h["\u0275\u0275listener"]("change",(function(e){return t.loadImage(e)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](57,"div",26),h["\u0275\u0275elementStart"](58,"div",27),h["\u0275\u0275elementStart"](59,"button",28),h["\u0275\u0275element"](60,"i",29),h["\u0275\u0275text"](61," Save "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](62,"swal",30,31),h["\u0275\u0275listener"]("confirm",(function(){return t.cerrarVentana()})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](64,"swal",32,33),h["\u0275\u0275listener"]("confirm",(function(){return t.cerrarVentana()})),h["\u0275\u0275elementEnd"]()),2&e&&(h["\u0275\u0275property"]("@routerTransition",void 0),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("heading","Edit project")("icon","fa-pencil-square"),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("formGroup",t.form),h["\u0275\u0275advance"](20),h["\u0275\u0275property"]("ngForOf",t.galleries),h["\u0275\u0275advance"](15),h["\u0275\u0275property"]("formControlName","active"),h["\u0275\u0275advance"](6),h["\u0275\u0275property"]("formControlName","body")("init",t.getInitData()),h["\u0275\u0275advance"](12),h["\u0275\u0275property"]("src",t.imgSrc,h["\u0275\u0275sanitizeUrl"]),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("disabled",t.form.invalid),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("showCancelButton",!1)("focusCancel",!0),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("showCancelButton",!1))},directives:[w.a,c.B,c.p,c.j,c.c,c.o,c.h,c.x,a.NgForOf,c.b,r.a,l.a,c.s,c.A],styles:[".image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.image-upload[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.clsImagenDestacada[_ngcontent-%COMP%]{text-align:center}.divCheck[_ngcontent-%COMP%]{margin-top:35px;color:#007bff}.clsCheck[_ngcontent-%COMP%]{margin-left:5px;font-size:26px}"],data:{animation:[Object(p.a)()]}}),N)}],V=((B=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=h["\u0275\u0275defineNgModule"]({type:B}),B.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(e){return new(e||B)},imports:[[d.h.forChild(R)],d.h]}),B);n("nrW+"),n.d(t,"ProjectsModule",(function(){return A}));var z,A=((z=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=h["\u0275\u0275defineNgModule"]({type:z}),z.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(e){return new(e||z)},imports:[[a.CommonModule,V,i.b,r.b,o.a,l.b.forRoot({buttonsStyling:!1,customClass:"modal-content",confirmButtonClass:"btn btn-primary",cancelButtonClass:"btn"}),c.k,c.v,s.e.forRoot(),m.a,i.c.forRoot()]]}),z)}}]);