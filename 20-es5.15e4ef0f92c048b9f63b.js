function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{a26W:function(e,t,n){"use strict";n.r(t);var a=n("SVse"),r=n("M0ag"),i=n("crmZ"),o=n("6yq/"),l=n("SfIc"),c=n("s7LF"),s=n("0FS3"),d=n("bquJ"),m=n("iInd"),u=n("ZZ88"),f=n("fCbB"),p=n("AytR"),g=n("8Y7J"),v=n("G0yt");function b(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"a",14),g["\u0275\u0275elementStart"](1,"span"),g["\u0275\u0275element"](2,"i",15),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"span",16),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=g["\u0275\u0275nextContext"]();g["\u0275\u0275propertyInterpolate"]("ngClass",1===n.id?"active":""),g["\u0275\u0275propertyInterpolate"]("href",a.generateId(n.nombre,n.id,1),g["\u0275\u0275sanitizeUrl"]),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",n.nombre,""),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](n.imagenes.length)}}function h(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",19),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit,a=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"]().seleccionarImagen(a.id,e.nombreImagen,e.id)})),g["\u0275\u0275element"](1,"img",20),g["\u0275\u0275element"](2,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,r=g["\u0275\u0275nextContext"]().$implicit,i=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("src",i.urlImage(r.id,a.nombreImagen),g["\u0275\u0275sanitizeUrl"])}}function y(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",17),g["\u0275\u0275elementStart"](1,"div",7),g["\u0275\u0275template"](2,h,3,1,"div",18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=g["\u0275\u0275nextContext"]();g["\u0275\u0275propertyInterpolate"]("ngClass",1===n.id?"show active":""),g["\u0275\u0275propertyInterpolate"]("id",a.generateId(n.nombre,n.id,2)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",n.imagenes)}}var C,x=((C=function(){function e(t,n){_classCallCheck(this,e),this.service=t,this.modal=n,this.urlGalerias=p.a.apiMedias+"galerias/",this.galerias=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.service.getGalerias().subscribe((function(t){e.galerias=t.items}))}},{key:"cerrar",value:function(){this.modal.close()}},{key:"urlImage",value:function(e,t){return this.urlGalerias+e+"/"+t}},{key:"seleccionarImagen",value:function(e,t,n){var a=this.urlGalerias+e+"/"+t,r=this.galerias.find((function(t){return t.id===e})).nombre;this.modal.close({urlImagen:a,seleccionada:r,imagenId:n})}},{key:"generateId",value:function(e,t,n){return e=e.replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),1===n?"#"+e+"_"+t:e+"_"+t}}]),e}()).\u0275fac=function(e){return new(e||C)(g["\u0275\u0275directiveInject"](f.a),g["\u0275\u0275directiveInject"](v.b))},C.\u0275cmp=g["\u0275\u0275defineComponent"]({type:C,selectors:[["app-show-gallery"]],decls:16,vars:2,consts:[[1,"modal-publicacion"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"fa","fa-blog"],["type","button","aria-label","Close","tabIndex","-1",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-4"],["id","list-tab","role","tablist",1,"list-group"],["class","list-group-item list-group-item-action d-flex justify-content-between align-items-center","id","list-home-list","data-toggle","list","role","tab",3,"ngClass","href",4,"ngFor","ngForOf"],[1,"col-8"],["id","nav-tabContent",1,"tab-content"],["class","tab-pane fade","role","tabpanel",3,"ngClass","id",4,"ngFor","ngForOf"],["id","list-home-list","data-toggle","list","role","tab",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",3,"ngClass","href"],["aria-hidden","true",1,"fa","fa-angle-right"],[1,"badge","badge-primary","badge-pill"],["role","tabpanel",1,"tab-pane","fade",3,"ngClass","id"],["class","col-4",3,"click",4,"ngFor","ngForOf"],[1,"col-4",3,"click"],["width","250px",1,"img-portada","img-thumbnail",3,"src"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h4",2),g["\u0275\u0275element"](3,"i",3),g["\u0275\u0275text"](4," Seleccione una foto de una galer\xeda"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"button",4),g["\u0275\u0275listener"]("click",(function(){return t.cerrar()})),g["\u0275\u0275elementStart"](6,"span",5),g["\u0275\u0275text"](7,"\xd7"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"div",6),g["\u0275\u0275elementStart"](9,"div",7),g["\u0275\u0275elementStart"](10,"div",8),g["\u0275\u0275elementStart"](11,"div",9),g["\u0275\u0275template"](12,b,6,4,"a",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",11),g["\u0275\u0275elementStart"](14,"div",12),g["\u0275\u0275template"](15,y,3,3,"div",13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](12),g["\u0275\u0275property"]("ngForOf",t.galerias),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",t.galerias))},directives:[a.NgForOf,a.NgClass],styles:['@font-face{font-family:DinR;src:url(/assets/fonts/dinR.woff2) format("truetype")}#list-tab[_ngcontent-%COMP%]{font-family:DinR,Open Sans!important;font-size:14px}.modal-header[_ngcontent-%COMP%]{background-color:#1d1d1d;color:#fff}.img-portada[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:15px;-o-object-fit:cover;object-fit:cover;height:180px}.modal-body[_ngcontent-%COMP%]{max-height:700px;overflow-y:auto}']}),C),I=n("3zLz"),w=["successSwal"];function S(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",7),g["\u0275\u0275elementStart"](1,"div",8),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"]().loadGallery(e.id)})),g["\u0275\u0275element"](2,"img",9),g["\u0275\u0275elementStart"](3,"div",10),g["\u0275\u0275elementStart"](4,"p",11),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](2),g["\u0275\u0275propertyInterpolate"]("src",null==a?null:a.imageUrl,g["\u0275\u0275sanitizeUrl"]),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"]("",a.nombreGaleria," ")}}var k,E,O=[{path:"",component:(k=function(){function e(t,n,a){_classCallCheck(this,e),this.modalService=t,this.service=n,this.config=a,this.recents=[],this.urlImagenesPortadaRecents=p.a.apiMedias+"galerias/",a.size="xl"}return _createClass(e,[{key:"ngOnInit",value:function(){this.cargarDatos()}},{key:"cargarDatos",value:function(){var e=this;this.service.getRecentsWorks().subscribe((function(t){t.items.map((function(t){e.recents.push({id:t.id,imageUrl:e.concatImageUrl(t.galeriaId,t.nombreImagen),nombreGaleria:t.nombreGaleria}),e.recents.sort((function(e,t){return e.id-t.id}))}))}))}},{key:"loadGallery",value:function(e){var t=this;this.modalService.open(x).result.then((function(n){n&&t.service.update_recent({id:e,imagegaleriaId:n.imagenId}).subscribe((function(){t.recents=[],t.successSwal.show(),t.cargarDatos()}))}))}},{key:"concatImageUrl",value:function(e,t){return"".concat(this.urlImagenesPortadaRecents).concat(e,"/").concat(t)}}]),e}(),k.\u0275fac=function(e){return new(e||k)(g["\u0275\u0275directiveInject"](v.f),g["\u0275\u0275directiveInject"](f.a),g["\u0275\u0275directiveInject"](v.g))},k.\u0275cmp=g["\u0275\u0275defineComponent"]({type:k,selectors:[["app-recents-works-list"]],viewQuery:function(e,t){var n;1&e&&g["\u0275\u0275viewQuery"](w,!0),2&e&&g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.successSwal=n.first)},decls:9,vars:6,consts:[[1,"titlePage"],[3,"heading","icon"],[1,"row","mb-3"],[1,"col-12","text-center","chooseText"],["class","col-4",4,"ngFor","ngForOf"],["title","Informaci\xf3n","text","La galer\xeda ha sido actualizada","type","success",3,"showCancelButton","focusCancel"],["successSwal",""],[1,"col-4"],[1,"card",3,"click"],["alt","Card image cap",1,"card-img-top","img-recent",3,"src"],[1,"card-body"],[1,"card-text"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275element"](2,"app-page-header",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275text"](5," [Selecciona las 12 fotos a mostrar en la galer\xeda] "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](6,S,6,2,"div",4),g["\u0275\u0275element"](7,"swal",5,6),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("@routerTransition",void 0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("heading","Im\xe1genes de la galer\xeda")("icon","fa-pencil-square"),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngForOf",t.recents),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("showCancelButton",!1)("focusCancel",!0))},directives:[I.a,a.NgForOf,l.a],styles:[".chooseText[_ngcontent-%COMP%]{margin-bottom:30px;color:#0079fb}.img-recent[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:15px;-o-object-fit:cover;object-fit:cover;height:420px}.card[_ngcontent-%COMP%]{margin-bottom:50px;border:2px solid #4c4e50}"],data:{animation:[Object(u.a)()]}}),k)}],_=((E=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=g["\u0275\u0275defineNgModule"]({type:E}),E.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||E)},imports:[[m.h.forChild(O)],m.h]}),E);n("nrW+"),n.d(t,"RecentsWorksModule",(function(){return F}));var j,F=((j=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=g["\u0275\u0275defineNgModule"]({type:j}),j.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||j)},imports:[[a.CommonModule,_,r.b,i.b,o.a,l.b.forRoot({buttonsStyling:!1,customClass:"modal-content",confirmButtonClass:"btn btn-primary",cancelButtonClass:"btn"}),c.k,c.v,s.e.forRoot(),d.a,r.c.forRoot()]]}),j)}}]);