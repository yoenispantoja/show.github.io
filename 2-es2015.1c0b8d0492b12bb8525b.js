(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"0FS3":function(e,t,n){"use strict";var o=n("SVse"),i=n("8Y7J");function r(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}var s=n("eIep"),l=n("IzEk"),a=n("/uUt"),p=n("Kj3r"),c=n("pLZG"),d=n("JX91"),f=n("lJxs"),u=n("s7LF"),m=n("7+OI"),h=n("XNiG"),g=n("VRyK"),y=n("LRne"),C=n("HDdC"),b=n("cUpR");n.d(t,"d",(function(){return q})),n.d(t,"c",(function(){return J})),n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return Y})),n.d(t,"e",(function(){return ae})),n.d(t,"f",(function(){return ee}));const v=["content"];function x(e,t){if(1&e&&i["\u0275\u0275element"](0,"formly-field",2),2&e){const e=t.$implicit;i["\u0275\u0275property"]("form",e.form)("options",e.options)("model",e.model)("field",e)}}const O=["*"],E=["container"];function k(e,t){}const F=["fieldComponent"];function _(e,t){1&e&&i["\u0275\u0275element"](0,"formly-field",1),2&e&&i["\u0275\u0275property"]("field",t.$implicit)}function w(e,t,n){if(t.id)return t.id;let o=t.type;return!o&&t.template&&(o="template"),N(o)&&(o=o.prototype.constructor.name),[e,o,t.key,n].join("_")}function I(e){if(!e.key)return[];if(!e._keyPath||e._keyPath.key!==e.key){let t=[];if("string"==typeof e.key){const n=-1===e.key.indexOf("[")?e.key:e.key.replace(/\[(\w+)\]/g,".$1");t=-1!==n.indexOf(".")?n.split("."):[n]}else t=Array.isArray(e.key)?e.key.slice(0):[`${e.key}`];e._keyPath={key:e.key,path:t}}return e._keyPath.path.slice(0)}const P=["required","pattern","minLength","maxLength","min","max"];function V(e,t){let n=I(e);if(0===n.length)return;let o=e;for(;o.parent;)o=o.parent,n=[...I(o),...n];if(void 0===t&&e.resetOnHide){const e=n.pop();delete n.reduce((e,t)=>e[t]||{},o.model)[e]}else!function(e,t,n){for(let o=0;o<t.length-1;o++){const n=t[o];e[n]&&M(e[n])||(e[n]=/^\d+$/.test(t[o+1])?[]:{}),e=e[n]}e[t[t.length-1]]=D(n)}(o.model,n,t)}function j(e){let t=e.parent.model;for(const n of I(e)){if(!t)return t;t=t[n]}return t}function R(e,...t){return t.forEach(t=>{for(let i in t)S(e[i])||""===e[i]?e[i]=D(t[i]):(o=t[i],M(n=e[i])&&M(o)&&Object.getPrototypeOf(n)===Object.getPrototypeOf(o)&&!Array.isArray(n)&&!Array.isArray(o)&&R(e[i],t[i]));var n,o}),e}function S(e){return null==e}function A(e){return void 0===e}function N(e){return"function"==typeof e}function M(e){return null!=e&&"object"==typeof e}function D(e){if(!M(e)||Object(m.a)(e)||e instanceof i.TemplateRef||e.changingThisBreaksApplicationSecurity||-1!==["RegExp","FileList","File","Blob"].indexOf(e.constructor.name))return e;if(e instanceof Set)return new Set(e);if(e instanceof Map)return new Map(e);if(e._isAMomentObject&&N(e.clone))return e.clone();if(e instanceof u.a)return null;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e))return e.slice(0).map(e=>D(e));const t=Object.getPrototypeOf(e);let n=Object.create(t);return n=Object.setPrototypeOf(n,t),Object.keys(e).reduce((t,n)=>{const o=Object.getOwnPropertyDescriptor(e,n);return o.get?Object.defineProperty(t,n,o):t[n]=D(e[n]),t},n)}function $(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0}),e[t]=n}function G(e,t,n){e._observers||$(e,"_observers",{}),e._observers[t]||(e._observers[t]=[]);let o=e._observers[t];return-1===o.indexOf(n)&&(o.push(n),n({currentValue:e[t],firstChange:!0}),1===o.length&&($(e,`___$${t}`,e[t]),Object.defineProperty(e,t,{configurable:!0,get:()=>e[`___$${t}`],set:n=>{if(n!==e[`___$${t}`]){const i=e[`___$${t}`];e[`___$${t}`]=n,o.forEach(e=>e({previousValue:i,currentValue:n,firstChange:!1}))}}}))),()=>o.splice(o.indexOf(n),1)}const T=new i.InjectionToken("FORMLY_CONFIG");let L=(()=>{class e{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.templateManipulators={preWrapper:[],postWrapper:[]},this.extras={checkExpressionOn:"changeDetectionCheck",lazyRender:!1,showError:function(e){return e.formControl&&e.formControl.invalid&&(e.formControl.touched||e.options.parentForm&&e.options.parentForm.submitted||!(!e.field.validation||!e.field.validation.show))}},this.extensions={}}addConfig(e){e.types&&e.types.forEach(e=>this.setType(e)),e.validators&&e.validators.forEach(e=>this.setValidator(e)),e.wrappers&&e.wrappers.forEach(e=>this.setWrapper(e)),e.manipulators&&(console.warn("NgxFormly: passing 'manipulators' config is deprecated, use custom extension instead."),e.manipulators.forEach(e=>this.setManipulator(e))),e.validationMessages&&e.validationMessages.forEach(e=>this.addValidatorMessage(e.name,e.message)),e.extensions&&e.extensions.forEach(e=>this.extensions[e.name]=e.extension),e.extras&&(this.extras=Object.assign({},this.extras,e.extras))}setType(e){Array.isArray(e)?e.forEach(e=>this.setType(e)):(this.types[e.name]||(this.types[e.name]={name:e.name}),["component","extends","defaultOptions","wrappers"].forEach(t=>{e.hasOwnProperty(t)&&(this.types[e.name][t]=e[t])}))}getType(e){if(!this.types[e])throw new Error(`[Formly Error] The type "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.mergeExtendedType(e),this.types[e]}getMergedField(e={}){const t=this.getType(e.type);t.defaultOptions&&R(e,t.defaultOptions);const n=t.extends&&this.getType(t.extends).defaultOptions;n&&R(e,n),e&&e.optionsTypes&&e.optionsTypes.forEach(t=>{const n=this.getType(t).defaultOptions;n&&R(e,n)});const o=this.resolveFieldTypeRef(e);o&&o.instance&&o.instance.defaultOptions&&R(e,o.instance.defaultOptions),!e.wrappers&&t.wrappers&&(e.wrappers=[...t.wrappers])}resolveFieldTypeRef(e={}){if(!e.type)return null;const t=this.getType(e.type);if(!t.component||t._componentRef)return t._componentRef;const{_resolver:n,_injector:o}=e.parent.options,i=n.resolveComponentFactory(t.component).create(o);return $(t,"_componentRef",i),i.destroy(),t._componentRef}setWrapper(e){this.wrappers[e.name]=e,e.types&&e.types.forEach(t=>{this.setTypeWrapper(t,e.name)})}getWrapper(e){if(!this.wrappers[e])throw new Error(`[Formly Error] The wrapper "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[e]}setTypeWrapper(e,t){this.types[e]||(this.types[e]={}),this.types[e].wrappers||(this.types[e].wrappers=[]),-1===this.types[e].wrappers.indexOf(t)&&this.types[e].wrappers.push(t)}setValidator(e){this.validators[e.name]=e}getValidator(e){if(!this.validators[e])throw new Error(`[Formly Error] The validator "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[e]}addValidatorMessage(e,t){this.messages[e]=t}getValidatorMessage(e){return this.messages[e]}setManipulator(e){(new e.class)[e.method](this)}mergeExtendedType(e){if(!this.types[e].extends)return;const t=this.getType(this.types[e].extends);this.types[e].component||(this.types[e].component=t.component),this.types[e].wrappers||(this.types[e].wrappers=t.wrappers)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),H=(()=>{class e{constructor(e,t,n){this.formlyConfig=e,this.componentFactoryResolver=t,this.injector=n}buildForm(e,t=[],n,o){if(!this.formlyConfig.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");const i={fieldGroup:t,model:n,formControl:e,options:this._setOptions(o)};!function(e,t){const n=e._updateTreeValidity.bind(e);e._updateTreeValidity=()=>{},t(),e._updateTreeValidity=n}(e,()=>{this._buildForm(i),i.options._checkField(i,!0)})}_buildForm(e){this.getExtensions().forEach(t=>t.prePopulate&&t.prePopulate(e)),this.getExtensions().forEach(t=>t.onPopulate&&t.onPopulate(e)),e.fieldGroup&&e.fieldGroup.forEach(e=>this._buildForm(e)),this.getExtensions().forEach(t=>t.postPopulate&&t.postPopulate(e))}getExtensions(){return Object.keys(this.formlyConfig.extensions).map(e=>this.formlyConfig.extensions[e])}_setOptions(e){return(e=e||{}).formState=e.formState||{},e.showError||(e.showError=this.formlyConfig.extras.showError),e.fieldChanges||$(e,"fieldChanges",new h.a),e._resolver||$(e,"_resolver",this.componentFactoryResolver),e._injector||$(e,"_injector",this.injector),e._hiddenFieldsForCheck||(e._hiddenFieldsForCheck=[]),e._markForCheck||(e._markForCheck=t=>{t._componentRefs&&t._componentRefs.forEach(e=>{e.injector.get(i.ChangeDetectorRef).markForCheck()}),t.fieldGroup&&t.fieldGroup.forEach(t=>e._markForCheck(t))}),e._buildField||(e._buildField=e=>(this._setOptions(e.options),this._buildForm(e),e.options._checkField(e,!0),e)),e}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](L),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](i.Injector))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new e(Object(i.inject)(L),Object(i.inject)(i.ComponentFactoryResolver),Object(i.inject)(i.INJECTOR))},token:e,providedIn:"root"}),e})();function W(e,t,n=!1){(t=t||e.formControl)._fields||$(t,"_fields",[]),-1===t._fields.indexOf(e)&&t._fields.push(e),!e.formControl&&t&&($(e,"formControl",t),t.setValidators(null),t.setAsyncValidators(null),e.templateOptions.disabled=!!e.templateOptions.disabled,G(e.templateOptions,"disabled",({firstChange:t,currentValue:n})=>{t||(n?e.formControl.disable():e.formControl.enable())}),t.registerOnDisabledChange&&t.registerOnDisabledChange(t=>{e.templateOptions.___$disabled=t,e.options&&e.options._markForCheck(e)}));let o=e.parent.formControl;if(!o||!e.key)return;const i=I(e),r=j(e);S(t.value)&&S(r)||t.value===r||!(t instanceof u.f)||t.patchValue(r);for(let l=0;l<i.length-1;l++){const e=i[l];o.get([e])||z(o,{emitEvent:n},()=>o.setControl(e,new u.i({}))),o=o.get([e])}const s=i[i.length-1];e._hide||o.get([s])===t||z(o,{emitEvent:n},()=>o.setControl(s,t))}function B(e,t=!1){const n=e.status,o=e.value;e.updateValueAndValidity({emitEvent:!1,onlySelf:t}),n!==e.status&&e.statusChanges.emit(e.status),o!==e.value&&e.valueChanges.emit(e.value)}function z(e,t,n){e instanceof u.i&&!e.__patchForEachChild&&($(e,"__patchForEachChild",!0),e._forEachChild=t=>{Object.keys(e.controls).forEach(n=>e.controls[n]&&t(e.controls[n],n))});const o=e.updateValueAndValidity.bind(e);!1===t.emitEvent&&(e.updateValueAndValidity=e=>{o(Object.assign({},e||{},{emitEvent:!1}))}),n(),!1===t.emitEvent&&(e.updateValueAndValidity=o)}let q=(()=>{class e{constructor(e,t,n,o,r){this.formlyBuilder=e,this.formlyConfig=t,this.ngZone=n,this.parentFormGroup=r,this.modelChange=new i.EventEmitter,this.immutable=!1,this._modelChangeValue={},this.modelChangeSubs=[],this.modelChange$=new h.a,this.modelChangeSub=this.modelChange$.pipe(Object(s.a)(()=>this.ngZone.onStable.asObservable().pipe(Object(l.a)(1)))).subscribe(()=>this.ngZone.runGuarded(()=>{this.checkExpressionChange(),this.modelChange.emit(this._modelChangeValue=D(this.model))})),null!==o&&console.warn("NgxFormly: passing 'immutable' attribute to 'formly-form' component is deprecated since v5.5, enable immutable mode through NgModule declaration instead."),this.immutable=null!==o||!!t.extras.immutable}set model(e){this._model=this.immutable?D(e):e}get model(){return this._model||(this._model={}),this._model}set fields(e){this._fields=this.immutable?D(e):e}get fields(){return this._fields||[]}set options(e){this._options=this.immutable?D(e):e}get options(){return this._options}set content(e){if(e){let t=!1,n=e.nativeElement.nextSibling;for(;n&&!t;)(n.nodeType===Node.ELEMENT_NODE||n.nodeType===Node.TEXT_NODE&&n.textContent&&""!==n.textContent.trim())&&(t=!0),n=n.nextSibling;t&&console.warn("NgxFormly: content projection for 'formly-form' component is deprecated since v5.5, you should avoid passing content inside the 'formly-form' tag.")}}ngDoCheck(){"changeDetectionCheck"===this.formlyConfig.extras.checkExpressionOn&&this.checkExpressionChange()}ngOnChanges(e){e.model&&this.field&&(this.field.model=this.model),e.fields&&this.form&&function e(t){t._fields&&delete t._fields,t.setValidators(null),t.setAsyncValidators(null),(t instanceof u.i||t instanceof u.d)&&Object.keys(t.controls).forEach(n=>e(t.controls[n]))}(this.form),(e.fields||e.form||e.model&&this._modelChangeValue!==e.model.currentValue)&&(this.form=this.form||new u.i({}),this.setOptions(),this.options.updateInitialValue(),this.clearModelSubscriptions(),this.formlyBuilder.buildForm(this.form,this.fields,this.model,this.options),this.trackModelChanges(this.fields))}ngOnDestroy(){this.modelChangeSub.unsubscribe(),this.clearModelSubscriptions()}changeModel({value:e,field:t}){V(t,e),this.modelChange$.next()}setOptions(){this.options||(this.options={}),this.options.resetModel||(this.options.resetModel=e=>{e=D(S(e)?this.options._initialModel:e),this.model&&(Object.keys(this.model).forEach(e=>delete this.model[e]),Object.assign(this.model,e||{})),this.options._buildForm(),this.options.parentForm&&this.options.parentForm.control===this.form?this.options.parentForm.resetForm(this.model):this.form.reset(this.model)}),!this.options.parentForm&&this.parentFormGroup&&($(this.options,"parentForm",this.parentFormGroup),G(this.options.parentForm,"submitted",({firstChange:e})=>{e||(this.checkExpressionChange(),this.options._markForCheck({fieldGroup:this.fields,model:this.model,formControl:this.form,options:this.options}))})),this.options.updateInitialValue||(this.options.updateInitialValue=()=>this.options._initialModel=D(this.model)),this.options._buildForm||(this.options._buildForm=(e=!1)=>{this.clearModelSubscriptions(),this.formlyBuilder.buildForm(this.form,this.fields,this.model,this.options),this.trackModelChanges(this.fields),e&&this.modelChange.emit(this._modelChangeValue=D(this.model))}),this.options._trackModelChanges||(this.options._trackModelChanges=(e=!1)=>{this.clearModelSubscriptions(),this.trackModelChanges(this.fields),e&&this.modelChange.emit(this._modelChangeValue=D(this.model))})}checkExpressionChange(){this.options&&this.options._checkField&&this.options._checkField({fieldGroup:this.fields,model:this.model,formControl:this.form,options:this.options})}trackModelChanges(e,t=[]){e.forEach(e=>{if(e.key&&!e.fieldGroup&&e.formControl){const n=e.formControl;let o=n.valueChanges.pipe(Object(a.a)((e,t)=>e===t&&!Array.isArray(e)&&!M(e)));const{updateOn:i,debounce:r}=e.modelOptions;(!i||"change"===i)&&r&&r.default>0&&(o=n.valueChanges.pipe(Object(p.a)(r.default))),this.modelChangeSubs.push(o.subscribe(o=>{n instanceof u.f&&n._fields&&n._fields.length>1&&n.patchValue(o,{emitEvent:!1,onlySelf:!0}),e.parsers&&e.parsers.length>0&&e.parsers.forEach(e=>o=e(o)),this.changeModel({key:[...t,...I(e)].join("."),value:o,field:e})}));const s=n.valueChanges.observers;s&&s.length>1&&s.unshift(s.pop())}e.fieldGroup&&e.fieldGroup.length>0&&this.trackModelChanges(e.fieldGroup,e.key?[...t,...I(e)]:t)})}clearModelSubscriptions(){this.modelChangeSubs.forEach(e=>e.unsubscribe()),this.modelChangeSubs=[]}get field(){return this.fields&&this.fields[0]&&this.fields[0].parent}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](H),i["\u0275\u0275directiveInject"](L),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275injectAttribute"]("immutable"),i["\u0275\u0275directiveInject"](u.j,8))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-form"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](v,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.content=n.first)},inputs:{model:"model",fields:"fields",options:"options",form:"form"},outputs:{modelChange:"modelChange"},features:[i["\u0275\u0275ProvidersFeature"]([H]),i["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:O,decls:4,vars:1,consts:[["hide-deprecation","",3,"form","options","model","field",4,"ngFor","ngForOf"],["content",""],["hide-deprecation","",3,"form","options","model","field"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275template"](0,x,1,4,"formly-field",0),i["\u0275\u0275elementContainerStart"](1,null,1),i["\u0275\u0275projection"](3),i["\u0275\u0275elementContainerEnd"]()),2&e&&i["\u0275\u0275property"]("ngForOf",t.fields)},directives:function(){return[o.NgForOf,Q]},encapsulation:2}),e})(),Q=(()=>{class e{constructor(e,t,n,o,r){this.formlyConfig=e,this.renderer=t,this.resolver=n,this.elementRef=o,this.warnDeprecation=!1,this.modelChange=new i.EventEmitter,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.warnDeprecation=null===r}set model(e){this.warnDeprecation&&console.warn(`NgxFormly: passing 'model' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}set form(e){this.warnDeprecation&&console.warn(`NgxFormly: passing 'form' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}set options(e){this.warnDeprecation&&console.warn(`NgxFormly: passing 'options' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterContentChecked(){this.triggerHook("afterContentChecked")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngAfterViewChecked(){this.triggerHook("afterViewChecked")}ngDoCheck(){this.triggerHook("doCheck"),this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(e){this.triggerHook("onChanges",e)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(e=>e()),this.hooksObservers.forEach(e=>e()),this.triggerHook("onDestroy")}renderField(e,t,n=[]){if(this.containerRef===e&&(this.resetRefs(this.field),this.containerRef.clear(),n=this.field?this.field.wrappers:[]),n&&n.length>0){const[o,...i]=n,{component:r}=this.formlyConfig.getWrapper(o),s=e.createComponent(this.resolver.resolveComponentFactory(r));this.attachComponentRef(s,t),G(s.instance,"fieldComponent",({firstChange:e,previousValue:n,currentValue:o})=>{if(o){if(n&&n._lContainer===o._lContainer)return;const r=n?n.detach():null;r&&!r.destroyed?o.insert(r):this.renderField(o,t,i),!e&&s.changeDetectorRef.detectChanges()}})}else if(t&&t.type){const{component:n}=this.formlyConfig.getType(t.type),o=e.createComponent(this.resolver.resolveComponentFactory(n));this.attachComponentRef(o,t)}}triggerHook(e,t){if(this.field&&this.field.hooks&&this.field.hooks[e]&&(!t||t.field)){const t=this.field.hooks[e](this.field);if(Object(m.a)(t)&&-1!==["onInit","afterContentInit","afterViewInit"].indexOf(e)){const e=t.subscribe();this.hooksObservers.push(()=>e.unsubscribe())}}this.field&&this.field.lifecycle&&this.field.lifecycle[e]&&this.field.lifecycle[e](this.field.form,this.field,this.field.model,this.field.options),"onChanges"===e&&t.field&&(this.resetRefs(t.field.previousValue),this.render())}attachComponentRef(e,t){this.componentRefs.push(e),t._componentRefs.push(e),Object.assign(e.instance,{field:t})}render(){this.field&&(this.field.options?(this.detectFieldBuild=!1,this.hostObservers.forEach(e=>e()),this.hostObservers=[G(this.field,"hide",({firstChange:e,currentValue:t})=>{(!e||e&&t)&&this.renderer.setStyle(this.elementRef.nativeElement,"display",t?"none":""),this.formlyConfig.extras.lazyRender?t?(this.containerRef.clear(),this.field.className&&this.renderer.removeAttribute(this.elementRef.nativeElement,"class")):(this.renderField(this.containerRef,this.field),this.field.className&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",this.field.className)):e&&this.renderField(this.containerRef,this.field)}),G(this.field,"className",({firstChange:e,currentValue:t})=>{!(!e||e&&t)||this.formlyConfig.extras.lazyRender&&!0===this.field.hide||this.renderer.setAttribute(this.elementRef.nativeElement,"class",t)})]):this.detectFieldBuild=!0)}resetRefs(e){e&&(e._componentRefs?e._componentRefs=e._componentRefs.filter(e=>-1===this.componentRefs.indexOf(e)):$(this.field,"_componentRefs",[])),this.componentRefs=[]}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](L),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275injectAttribute"]("hide-deprecation"))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-field"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275staticViewQuery"](E,!0,i.ViewContainerRef),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.containerRef=n.first)},inputs:{model:"model",form:"form",options:"options",field:"field"},outputs:{modelChange:"modelChange"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,k,0,0,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"])},encapsulation:2}),e})(),J=(()=>{class e{constructor(e,t,n){this.renderer=e,this.elementRef=t,this.uiAttributesCache={},this.uiAttributes=null,this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress","focus","blur","change"],callback:(e,t)=>{switch(e){case"focus":return this.onFocus(t);case"blur":return this.onBlur(t);case"change":return this.onChange(t);default:return this.to[e](this.field,t)}}},this.document=n}get to(){return this.field.templateOptions||{}}get fieldAttrElements(){return this.field&&this.field._elementRefs||[]}ngOnChanges(e){e.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(e=>e()),this.uiEvents.events.forEach(e=>{(this.to&&this.to[e]||-1!==["focus","blur","change"].indexOf(e))&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,e,t=>this.uiEvents.callback(e,t)))}),this.to&&this.to.attributes&&G(this.to,"attributes",({currentValue:e,previousValue:t})=>{t&&Object.keys(t).forEach(e=>this.removeAttribute(e)),e&&Object.keys(e).forEach(t=>{null!=e[t]&&this.setAttribute(t,e[t])})}),this.detachElementRef(e.field.previousValue),this.attachElementRef(e.field.currentValue),1===this.fieldAttrElements.length&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),G(this.field,"focus",({currentValue:e})=>{this.toggleFocus(e)}))),e.id&&this.setAttribute("id",this.id)}ngDoCheck(){if(!this.uiAttributes){const e=this.elementRef.nativeElement;this.uiAttributes=[...P,"tabindex","placeholder","readonly","disabled","step"].filter(t=>!e.hasAttribute||!e.hasAttribute(t))}this.uiAttributes.forEach(e=>{const t=this.to[e];this.uiAttributesCache[e]===t||this.to.attributes&&this.to.attributes.hasOwnProperty(e.toLowerCase())||(this.uiAttributesCache[e]=t,t||0===t?this.setAttribute(e,!0===t?e:`${t}`):this.removeAttribute(e))})}ngOnDestroy(){this.uiEvents.listeners.forEach(e=>e()),this.detachElementRef(this.field)}toggleFocus(e){const t=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!t||!t.nativeElement.focus)return;const n=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:e})=>this.document.activeElement===e||e.contains(this.document.activeElement));e&&!n?Promise.resolve().then(()=>t.nativeElement.focus()):!e&&n&&Promise.resolve().then(()=>t.nativeElement.blur())}onFocus(e){this.field.___$focus=!0,this.to.focus&&this.to.focus(this.field,e)}onBlur(e){this.field.___$focus=!1,this.to.blur&&this.to.blur(this.field,e)}onHostChange(e){e instanceof Event||this.onChange(e)}onChange(e){this.to.change&&this.to.change(this.field,e),this.field.formControl&&this.field.formControl.markAsDirty()}attachElementRef(e){e&&(e._elementRefs&&-1===e._elementRefs.indexOf(this.elementRef)?e._elementRefs.push(this.elementRef):$(e,"_elementRefs",[this.elementRef]))}detachElementRef(e){const t=e&&e._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;-1!==t&&this.field._elementRefs.splice(t,1)}setAttribute(e,t){this.renderer.setAttribute(this.elementRef.nativeElement,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.elementRef.nativeElement,e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](o.DOCUMENT))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","formlyAttributes",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("change",(function(e){return t.onHostChange(e)}))},inputs:{field:["formlyAttributes","field"],id:"id"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),e})(),Z=(()=>{class e{get model(){return this.field.model}set model(e){console.warn(`NgxFormly: passing 'model' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get form(){return this.field.parent.formControl}set form(e){console.warn(`NgxFormly: passing 'form' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get options(){return this.field.options}set options(e){console.warn(`NgxFormly: passing 'options' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get key(){return this.field.key}get formControl(){return this.field.formControl}get to(){return this.field.templateOptions||{}}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){return this.options.formState||{}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,inputs:{model:"model",form:"form",options:"options",field:"field"}}),e})(),Y=(()=>{class e extends Z{}return e.\u0275fac=function(t){return U(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](F,!0,i.ViewContainerRef),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.fieldComponent=n.first)},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();const U=i["\u0275\u0275getInheritedFactory"](Y);let X=(()=>{class e extends Z{constructor(){super(...arguments),this.defaultOptions={defaultValue:{}}}}return e.\u0275fac=function(t){return K(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-group"]],hostVars:2,hostBindings:function(e,t){2&e&&i["\u0275\u0275classMap"](t.field.fieldGroupClassName||"")},features:[i["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:O,decls:2,vars:1,consts:[[3,"field",4,"ngFor","ngForOf"],[3,"field"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275template"](0,_,1,1,"formly-field",0),i["\u0275\u0275projection"](1)),2&e&&i["\u0275\u0275property"]("ngForOf",t.field.fieldGroup)},directives:[o.NgForOf,Q],encapsulation:2}),e})();const K=i["\u0275\u0275getInheritedFactory"](X);let ee=(()=>{class e{constructor(e){this.formlyConfig=e}ngOnChanges(){const e=P.map(e=>`templateOptions.${e}`);this.errorMessage$=Object(g.a)(this.field.formControl.statusChanges,this.field.options?this.field.options.fieldChanges.pipe(Object(c.a)(({field:t,type:n,property:o})=>t===this.field&&"expressionChanges"===n&&(-1!==o.indexOf("validation")||-1!==e.indexOf(o)))):Object(y.a)(null)).pipe(Object(d.a)(null),Object(s.a)(()=>Object(m.a)(this.errorMessage)?this.errorMessage:Object(y.a)(this.errorMessage)))}get errorMessage(){const e=this.field.formControl;for(let t in e.errors)if(e.errors.hasOwnProperty(t)){let n=this.formlyConfig.getValidatorMessage(t);if(M(e.errors[t])){if(e.errors[t].errorPath)return;e.errors[t].message&&(n=e.errors[t].message)}return this.field.validation&&this.field.validation.messages&&this.field.validation.messages[t]&&(n=this.field.validation.messages[t]),this.field.validators&&this.field.validators[t]&&this.field.validators[t].message&&(n=this.field.validators[t].message),this.field.asyncValidators&&this.field.asyncValidators[t]&&this.field.asyncValidators[t].message&&(n=this.field.asyncValidators[t].message),"function"==typeof n?n(e.errors[t],this.field):n}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](L))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-validation-message"]],inputs:{field:"field"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:3,template:function(e,t){1&e&&(i["\u0275\u0275text"](0),i["\u0275\u0275pipe"](1,"async")),2&e&&i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](1,1,t.errorMessage$))},pipes:[o.AsyncPipe],encapsulation:2,changeDetection:0}),e})(),te=(()=>{class e extends Z{constructor(e){super(),this.sanitizer=e,this.innerHtml={content:null,template:null}}get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.to.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](b.DomSanitizer))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-template"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",0),2&e&&i["\u0275\u0275property"]("innerHtml",t.template,i["\u0275\u0275sanitizeHtml"])},encapsulation:2}),e})();function ne(e,t,n){return e instanceof Function?e.apply(t,n):!!e}class oe{prePopulate(e){if(e.parent||e.options._checkField)return;let t=!1;e.options._checkField=(e,n)=>{t||(t=!0,this.checkField(e,n),t=!1)}}postPopulate(e){if(e.parent&&!e._expressionProperties){if($(e,"_expressionProperties",{}),e.expressionProperties)for(const t in e.expressionProperties){const n=e.expressionProperties[t];if("string"==typeof n||N(n))e._expressionProperties[t]={expression:this._evalExpression(t,n,"templateOptions.disabled"===t&&e.parent.expressionProperties&&e.parent.expressionProperties.hasOwnProperty("templateOptions.disabled")?()=>e.parent.templateOptions.disabled:void 0)},"templateOptions.disabled"===t&&Object.defineProperty(e._expressionProperties[t],"expressionValue",{get:()=>e.templateOptions.disabled,set:()=>{},enumerable:!0,configurable:!0});else if(n instanceof C.a){const o=()=>n.subscribe(n=>{this.setExprValue(e,t,n),e.options&&e.options._markForCheck&&e.options._markForCheck(e)});let i=o();const r=e.hooks.onInit;e.hooks.onInit=()=>(null===i&&(i=o()),r&&r(e));const s=e.hooks.onDestroy;e.hooks.onDestroy=()=>{s&&s(e),i.unsubscribe(),i=null}}}e.hideExpression?(delete e.hide,e.hideExpression=this._evalExpression("hide",e.hideExpression,()=>{let t=e.parent;for(;t.parent&&!t.hide;)t=t.parent;return t.hide})):G(e,"hide",({currentValue:t,firstChange:n})=>{e._hide=t,(!n||n&&!0===t)&&e.options._hiddenFieldsForCheck.push(e)})}}_evalExpression(e,t,n){return(...o)=>{try{return"string"==typeof t&&(t=function(e,t){try{return-1!==e.indexOf("this.field")&&console.warn("NgxFormly: using 'this.field' in expressionProperties is deprecated since v5.1, use 'field' instead."),Function("model","formState","field",`return ${e};`)}catch(n){console.error(n)}}(t)),"function"!=typeof t&&(t=()=>!!t),n&&n()||t(...o)}catch(i){throw i.message=`[Formly Error] [Expression "${e}"] ${i.message}`,i}}}_evalExpressionPath(e,t){if(e._expressionProperties[t]&&e._expressionProperties[t].expressionPaths)return e._expressionProperties[t].expressionPaths;let n=[];return-1===t.indexOf("[")?n=t.split("."):t.split(/[[\]]{1,2}/).filter(e=>e).forEach(e=>{const t=e.match(/['|"](.*?)['|"]/);t?n.push(t[1]):n.push(...e.split(".").filter(e=>e))}),e._expressionProperties[t]&&(e._expressionProperties[t].expressionPaths=n),n}checkField(e,t=!1){const n=this._checkField(e,t);e.options._hiddenFieldsForCheck.sort(e=>e.hide?-1:1).forEach(e=>this.toggleFormControl(e,!!e.hide,!t)),e.options._hiddenFieldsForCheck=[],n&&(this.checkField(e),e.options&&e.options._markForCheck&&e.options._markForCheck(e))}_checkField(e,t=!1){let n=!1;return e.fieldGroup.forEach(o=>{o.options&&(this.checkFieldExpressionChange(o,t)&&(n=!0),this.checkFieldVisibilityChange(o,t)&&(e.options._hiddenFieldsForCheck.push(o),n=!0),o.fieldGroup&&o.fieldGroup.length>0&&this._checkField(o,t)&&(n=!0))}),n}checkFieldExpressionChange(e,t){if(!e||!e._expressionProperties)return!1;let n=!1;const o=e._expressionProperties;for(const i in o){let r=ne(o[i].expression,{field:e},[e.model,e.options.formState,e,t]);"templateOptions.disabled"===i&&(r=!!r),(t||o[i].expressionValue!==r&&(!M(r)&&!N(r)||N(r)&&""+o[i].expressionValue!=""+r||Object(m.a)(r)||JSON.stringify(r)!==JSON.stringify(o[i].expressionValue)))&&(n=!0,o[i].expressionValue=r,this.setExprValue(e,i,r))}return n}checkFieldVisibilityChange(e,t){if(!e||S(e.hideExpression))return!1;const n=!!ne(e.hideExpression,{field:e},[e.model,e.options.formState,e,t]);let o=!1;return(n!==e.hide||t)&&(o=!0,e.hide=n,e.templateOptions.hidden=n),o}setDisabledState(e,t){e.fieldGroup&&e.fieldGroup.filter(e=>!e.expressionProperties||!e.expressionProperties.hasOwnProperty("templateOptions.disabled")).forEach(e=>this.setDisabledState(e,t)),e.key&&e.templateOptions.disabled!==t&&(e.templateOptions.disabled=t)}toggleFormControl(e,t,n){if(e.fieldGroup&&e.fieldGroup.filter(e=>!e.hideExpression).forEach(e=>this.toggleFormControl(e,t,n)),e.formControl&&e.key){$(e,"_hide",!(!t&&!e.hide));const o=e.formControl;o._fields&&o._fields.length>1&&B(o),!0!==t||o._fields&&!o._fields.every(e=>!!e._hide)?!1===t&&(e.resetOnHide&&e.parent&&!A(e.defaultValue)&&A(j(e))&&V(e,e.defaultValue),W(e,void 0,!0),e.resetOnHide&&e.fieldArray&&(e.fieldGroup||[]).length!==(e.model||[]).length&&e.options._buildForm(!0)):(function(e,t=!1){const n=e.formControl,o=n._fields?n._fields.indexOf(e):-1;-1!==o&&n._fields.splice(o,1);const i=n.parent;if(!i)return;const r={emitEvent:t};if(i instanceof u.d){const e=i.controls.findIndex(e=>e===n);-1!==e&&z(i,r,()=>i.removeAt(e))}else if(i instanceof u.i){const t=I(e),o=t[t.length-1];i.get([o])===n&&z(i,r,()=>i.removeControl(o))}n.setParent(null)}(e,!0),n&&e.resetOnHide&&(e.formControl.reset({value:void 0,disabled:e.formControl.disabled}),e.fieldGroup&&(V(e,void 0),e.formControl instanceof u.d&&(e.fieldGroup.length=0))))}e.options.fieldChanges&&e.options.fieldChanges.next({field:e,type:"hidden",value:t})}setExprValue(e,t,n){try{let o=e;const i=this._evalExpressionPath(e,t),r=i.length-1;for(let e=0;e<r;e++)o=o[i[e]];o[i[r]]=n}catch(o){throw o.message=`[Formly Error] [Expression "${t}"] ${o.message}`,o}if("templateOptions.disabled"===t&&e.key&&this.setDisabledState(e,n),0===t.indexOf("model.")){const o=t.replace(/^model\./,""),i=e.key&&t===o?e.formControl:e.parent.formControl.get(o);!i||S(i.value)&&S(n)||i.value===n||i.patchValue(n)}this.emitExpressionChanges(e,t,n)}emitExpressionChanges(e,t,n){e.options.fieldChanges&&e.options.fieldChanges.next({field:e,type:"expressionChanges",property:t,value:n})}}class ie{constructor(e){this.formlyConfig=e}onPopulate(e){this.initFieldValidation(e,"validators"),this.initFieldValidation(e,"asyncValidators")}initFieldValidation(e,t){const n=[];if("validators"!==t||e.hasOwnProperty("fieldGroup")&&!e.key||n.push(this.getPredefinedFieldValidation(e)),e[t])for(const o in e[t])"validation"!==o||Array.isArray(e[t].validation)||(e[t].validation=[e[t].validation],console.warn(`NgxFormly(${e.key}): passing a non array value to the 'validation' is deprecated, pass an array instead`)),"validation"===o?n.push(...e[t].validation.map(t=>this.wrapNgValidatorFn(e,t))):n.push(this.wrapNgValidatorFn(e,e[t][o],o));$(e,"_"+t,n)}getPredefinedFieldValidation(e){let t=[];return P.forEach(n=>G(e.templateOptions,n,({currentValue:o,firstChange:i})=>{t=t.filter(e=>e!==n),null!=o&&!1!==o&&t.push(n),!i&&e.formControl&&B(e.formControl)})),n=>0===t.length?null:u.z.compose(t.map(t=>()=>{const o=e.templateOptions[t];switch(t){case"required":return u.z.required(n);case"pattern":return u.z.pattern(o)(n);case"minLength":return u.z.minLength(o)(n);case"maxLength":return u.z.maxLength(o)(n);case"min":return u.z.min(o)(n);case"max":return u.z.max(o)(n)}}))(n)}wrapNgValidatorFn(e,t,n){let o=null;if("string"==typeof t&&(o=D(this.formlyConfig.getValidator(t))),"object"==typeof t&&t.name&&(o=D(this.formlyConfig.getValidator(t.name)),t.options&&(o.options=t.options)),"object"==typeof t&&t.expression){const{expression:e}=t,i=r(t,["expression"]);o={name:n,validation:e,options:Object.keys(i).length>0?i:null}}return"function"==typeof t&&(o={name:n,validation:t}),t=>{const i=o.validation(t,e,o.options);return(r=i)&&"function"==typeof r.then?i.then(t=>this.handleAsyncResult(e,n?!!t:t,o)):Object(m.a)(i)?i.pipe(Object(f.a)(t=>this.handleAsyncResult(e,n?!!t:t,o))):this.handleResult(e,n?!!i:i,o);var r}}handleAsyncResult(e,t,n){return e.options&&e.options._markForCheck&&e.options._markForCheck(e),this.handleResult(e,t,n)}handleResult(e,t,{name:n,options:o}){"boolean"==typeof t&&(t=t?null:{[n]:o||!0});const i=e.formControl;return i._childrenErrors&&i._childrenErrors[n]&&i._childrenErrors[n](),M(t)&&Object.keys(t).forEach(n=>{const s=t[n].errorPath?t[n].errorPath:(o||{}).errorPath,l=s?e.formControl.get(s):null;if(l){const e=r(t[n],["errorPath"]);l.setErrors(Object.assign({},l.errors||{},{[n]:e})),!i._childrenErrors&&$(i,"_childrenErrors",{}),i._childrenErrors[n]=()=>{const e=r(l.errors||{},["symbol"==typeof n?n:n+""]);l.setErrors(0===Object.keys(e).length?null:e)}}}),t}}class re{constructor(e){this.config=e}prePopulate(e){this.root||(this.root=e)}onPopulate(e){e.parent&&(e.fieldGroup&&!e.key?$(e,"formControl",e.parent.formControl):this.addFormControl(e))}postPopulate(e){this.root===e&&(this.root=null,this.setValidators(e))}addFormControl(e){let t=function(e){if(e.formControl)return e.formControl;if(!1===e.shareFormControl)return null;const t=e.parent.formControl;return t?t.get(I(e)):null}(e);if(!t){const n={updateOn:e.modelOptions.updateOn},o=e.key?j(e):e.defaultValue,i=this.config?this.config.resolveFieldTypeRef(e):null;if(i&&i.componentType&&i.componentType.createControl){const n=i.componentType;console.warn(`NgxFormly: '${n.name}::createControl' is deprecated since v5.0, use 'prePopulate' hook instead.`),t=n.createControl(o,e)}else t=e.fieldGroup?new u.i({},n):new u.f(o,n)}W(e,t)}setValidators(e,t=!1){let n=!1;if(!1===t&&e.key&&e.templateOptions&&e.templateOptions.disabled&&(t=!0),(e.fieldGroup||[]).forEach(e=>this.setValidators(e,t)&&(n=!0)),e.key||!e.parent||!e.key&&!e.fieldGroup){const{formControl:o}=e;if(e.templateOptions=e.templateOptions||{},e.key&&o&&o instanceof u.f&&(t&&o.enabled&&(o.disable({emitEvent:!1,onlySelf:!0}),n=!0),!t&&o.disabled&&(o.enable({emitEvent:!1,onlySelf:!0}),n=!0)),!o||null!==o.validator&&null!==o.asyncValidator||(o.setValidators(()=>{const t=u.z.compose(this.mergeValidators(e,"_validators"));return t?t(o):null}),o.setAsyncValidators(()=>{const t=u.z.composeAsync(this.mergeValidators(e,"_asyncValidators"));return t?t(o):Object(y.a)(null)}),n=!0),n){B(o,!0);let t=o.parent;for(let n=1;n<I(e).length;n++)t&&(B(t,!0),t=t.parent)}}return n}mergeValidators(e,t){const n=[],o=e.formControl;return o&&o._fields&&o._fields.length>1?o._fields.filter(e=>!e._hide).forEach(e=>n.push(...e[t])):e[t]&&n.push(...e[t]),e.fieldGroup&&e.fieldGroup.filter(e=>!e.key&&e.fieldGroup).forEach(e=>n.push(...this.mergeValidators(e,t))),n}}class se{constructor(e){this.formlyConfig=e,this.formId=0}prePopulate(e){if(this.getFieldComponentInstance(e).prePopulate(),e.parent)return;const t=e.options&&e.options.fieldTransform||this.formlyConfig.extras.fieldTransform;(Array.isArray(t)?t:[t]).forEach(t=>{if(t&&(console.warn("NgxFormly: fieldTransform is deprecated since v5.0, use custom extension instead."),!t(e.fieldGroup,e.model,e.formControl,e.options)))throw new Error("fieldTransform must return an array of fields")})}onPopulate(e){this.initFieldOptions(e),this.getFieldComponentInstance(e).onPopulate(),e.fieldGroup&&e.fieldGroup.forEach((t,n)=>{Object.defineProperty(t,"parent",{get:()=>e,configurable:!0}),Object.defineProperty(t,"index",{get:()=>n,configurable:!0}),this.formId++})}postPopulate(e){this.getFieldComponentInstance(e).postPopulate()}initFieldOptions(e){const t=e.parent;if(t){if(Object.defineProperty(e,"form",{get:()=>t.formControl,configurable:!0}),Object.defineProperty(e,"options",{get:()=>t.options,configurable:!0}),Object.defineProperty(e,"model",{get:()=>e.key&&e.fieldGroup?j(e):t.model,configurable:!0}),R(e,{id:w(`formly_${this.formId}`,e,e.index),hooks:{},modelOptions:{},validation:{messages:{}},templateOptions:e.type&&e.key?{label:"",placeholder:"",focus:!1,disabled:!1}:{}}),this.formlyConfig.extras.resetFieldOnHide&&!1!==e.resetOnHide&&(e.resetOnHide=!0),e.lifecycle&&console.warn("NgxFormly: 'lifecycle' is deprecated since v5.0, use 'hooks' instead."),"formly-template"!==e.type&&(e.template||e.expressionProperties&&e.expressionProperties.template)&&(e.type&&console.warn("NgxFormly: passing 'type' property is not allowed when 'template' is set."),e.type="formly-template"),!e.type&&e.fieldGroup&&(e.type="formly-group"),e.type&&this.formlyConfig.getMergedField(e),e.parent){let t=!A(e.key)&&!A(e.defaultValue)&&A(j(e))&&(!e.resetOnHide||!(e.hide||e.hideExpression));if(t&&e.resetOnHide){let n=e.parent;for(;n&&!n.hideExpression&&!n.hide;)n=n.parent;t=!n||!(n.hideExpression||n.hide)}t&&V(e,e.defaultValue)}this.initFieldWrappers(e)}}initFieldWrappers(e){e.wrappers=e.wrappers||[];const t=Object.assign({preWrapper:[],postWrapper:[]},e.templateOptions.templateManipulators||{});e.wrappers=[...this.formlyConfig.templateManipulators.preWrapper.map(t=>t(e)),...t.preWrapper.map(t=>t(e)),...e.wrappers,...this.formlyConfig.templateManipulators.postWrapper.map(t=>t(e)),...t.postWrapper.map(t=>t(e))].filter((e,t,n)=>e&&t===n.indexOf(e))}getFieldComponentInstance(e){const t=this.formlyConfig.resolveFieldTypeRef(e),n=t?t.instance:{};return{prePopulate:()=>n.prePopulate&&n.prePopulate(e),onPopulate:()=>n.onPopulate&&n.onPopulate(e),postPopulate:()=>n.postPopulate&&n.postPopulate(e)}}}function le(e){return{types:[{name:"formly-group",component:X},{name:"formly-template",component:te}],extensions:[{name:"core",extension:new se(e)},{name:"field-validation",extension:new ie(e)},{name:"field-form",extension:new re(e)},{name:"field-expression",extension:new oe}]}}let ae=(()=>{class e{constructor(e,t=[]){t&&t.forEach(t=>e.addConfig(t))}static forRoot(t={}){return{ngModule:e,providers:[{provide:T,multi:!0,useFactory:le,deps:[L]},{provide:T,useValue:t,multi:!0},{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:t,multi:!0},L,H]}}static forChild(t={}){return{ngModule:e,providers:[{provide:T,multi:!0,useFactory:le,deps:[L]},{provide:T,useValue:t,multi:!0},{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:t,multi:!0},H]}}}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](L),i["\u0275\u0275inject"](T,8))},imports:[[o.CommonModule]]}),e})()},bquJ:function(e,t,n){"use strict";var o=n("IzEk"),i=n("SVse"),r=n("s7LF"),s=n("0FS3"),l=n("HDdC"),a=n("2Vo4"),p=n("lJxs"),c=n("pLZG"),d=n("vkgz"),f=n("8Y7J");let u=(()=>{class e{transform(e,t){return e instanceof l.a?this.dispose():e=this.observableOf(e,t),e.pipe(Object(p.a)(e=>this.toOptions(e,t||{})))}ngOnDestroy(){this.dispose()}toOptions(e,t){const n=[],o={},i=t.templateOptions||{};return i._flatOptions=!0,e.map(e=>{this.getGroupProp(e,i)?(i._flatOptions=!1,o[this.getGroupProp(e,i)]||(o[this.getGroupProp(e,i)]=[],n.push({label:this.getGroupProp(e,i),group:o[this.getGroupProp(e,i)]})),o[this.getGroupProp(e,i)].push(this.toOption(e,i))):n.push(this.toOption(e,i))}),n}toOption(e,t){return{label:this.getLabelProp(e,t),value:this.getValueProp(e,t),disabled:this.getDisabledProp(e,t)||!1}}getLabelProp(e,t){return"function"==typeof t.labelProp?t.labelProp(e):this.shouldUseLegacyOption(e,t)?(console.warn("NgxFormly: legacy select option '{key, value}' is deprecated since v5.5, use '{value, label}' instead."),e.value):e[t.labelProp||"label"]}getValueProp(e,t){return"function"==typeof t.valueProp?t.valueProp(e):this.shouldUseLegacyOption(e,t)?e.key:e[t.valueProp||"value"]}getDisabledProp(e,t){return"function"==typeof t.disabledProp?t.disabledProp(e):e[t.disabledProp||"disabled"]}getGroupProp(e,t){return"function"==typeof t.groupProp?t.groupProp(e):e[t.groupProp||"group"]}shouldUseLegacyOption(e,t){return!t.valueProp&&!t.labelProp&&null!=e&&"object"==typeof e&&"key"in e&&"value"in e}dispose(){this._options&&(this._options.complete(),this._options=null),this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}observableOf(e,t){return this.dispose(),t&&t.options&&t.options.fieldChanges&&(this._subscription=t.options.fieldChanges.pipe(Object(c.a)(({property:e,type:n,field:o})=>"expressionChanges"===n&&0===e.indexOf("templateOptions.options")&&o===t&&Array.isArray(o.templateOptions.options)&&!!this._options),Object(d.a)(()=>this._options.next(t.templateOptions.options))).subscribe()),this._options=new a.a(e),this._options.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=f["\u0275\u0275definePipe"]({name:"formlySelectOptions",type:e,pure:!0}),e})(),m=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();function h(e,t){if(1&e&&f["\u0275\u0275element"](0,"i",8),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275property"]("ngClass",e.to.addonLeft.class)}}function g(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span",9),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.to.addonLeft.text)}}const y=function(e){return{cursor:e}};function C(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",5),f["\u0275\u0275listener"]("click",(function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().addonLeftClick(t)})),f["\u0275\u0275template"](1,h,1,1,"i",6),f["\u0275\u0275template"](2,g,2,1,"span",7),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("ngStyle",f["\u0275\u0275pureFunction1"](3,y,e.to.addonLeft.onClick?"pointer":"inherit")),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.to.addonLeft.class),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.to.addonLeft.text)}}function b(e,t){if(1&e&&f["\u0275\u0275element"](0,"i",8),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275property"]("ngClass",e.to.addonRight.class)}}function v(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span",9),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.to.addonRight.text)}}function x(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",10),f["\u0275\u0275listener"]("click",(function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().addonRightClick(t)})),f["\u0275\u0275template"](1,b,1,1,"i",6),f["\u0275\u0275template"](2,v,2,1,"span",7),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("ngStyle",f["\u0275\u0275pureFunction1"](3,y,e.to.addonRight.onClick?"pointer":"inherit")),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.to.addonRight.class),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.to.addonRight.text)}}let O=(()=>{class e extends s.b{addonRightClick(e){this.to.addonRight.onClick&&this.to.addonRight.onClick(this.to,this,e)}addonLeftClick(e){this.to.addonLeft.onClick&&this.to.addonLeft.onClick(this.to,this,e)}}return e.\u0275fac=function(t){return E(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-wrapper-addons"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:2,consts:[[1,"input-group"],["class","input-group-prepend",3,"ngStyle","click",4,"ngIf"],[1,"input-addons"],["fieldComponent",""],["class","input-group-append",3,"ngStyle","click",4,"ngIf"],[1,"input-group-prepend",3,"ngStyle","click"],["class","input-group-text",3,"ngClass",4,"ngIf"],["class","input-group-text",4,"ngIf"],[1,"input-group-text",3,"ngClass"],[1,"input-group-text"],[1,"input-group-append",3,"ngStyle","click"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275template"](1,C,3,5,"div",1),f["\u0275\u0275elementStart"](2,"div",2),f["\u0275\u0275elementContainer"](3,null,3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](5,x,3,5,"div",4),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.to.addonLeft),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngIf",t.to.addonRight))},directives:[i.NgIf,i.NgStyle,i.NgClass],styles:["[_nghost-%COMP%]     .input-group>:not(:first-child) .form-control{border-top-left-radius:0;border-bottom-left-radius:0}[_nghost-%COMP%]     .input-group>:not(:last-child) .form-control{border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .input-group>.input-addons{position:relative;flex:1 1 auto;width:1%;margin-bottom:0}"]}),e})();const E=f["\u0275\u0275getInheritedFactory"](O);function k(e){!e.templateOptions||e.wrappers&&-1!==e.wrappers.indexOf("addons")||(e.templateOptions.addonLeft||e.templateOptions.addonRight)&&(e.wrappers=[...e.wrappers||[],"addons"])}let F=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.CommonModule,r.v,s.e.forChild({wrappers:[{name:"addons",component:O}],extensions:[{name:"addons",extension:{postPopulate:k}}]})]]}),e})();function _(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",5),f["\u0275\u0275text"](1,"*"),f["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"label",3),f["\u0275\u0275text"](1),f["\u0275\u0275template"](2,_,2,0,"span",4),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275classProp"]("form-check-label",-1===e.to.formCheck.indexOf("custom"))("custom-control-label",0===e.to.formCheck.indexOf("custom")),f["\u0275\u0275property"]("for",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.to.label," "),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.to.required&&!0!==e.to.hideRequiredMarker)}}n.d(t,"a",(function(){return Ce}));const I=function(e,t,n,o,i,r){return{"form-check":e,"form-check-inline":t,"custom-control":n,"custom-checkbox":o,"custom-control-inline":i,"custom-switch":r}};function P(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",1),f["\u0275\u0275elementStart"](1,"input",2),f["\u0275\u0275listener"]("change",(function(n){f["\u0275\u0275restoreView"](e);const o=t.$implicit;return f["\u0275\u0275nextContext"]().onChange(o.value,n.target.checked)})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](2,"label",3),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("ngClass",f["\u0275\u0275pureFunction6"](16,I,-1===o.to.formCheck.indexOf("custom"),"inline"===o.to.formCheck,0===o.to.formCheck.indexOf("custom"),"custom"===o.to.formCheck||"custom-inline"===o.to.formCheck,"custom-inline"===o.to.formCheck,"custom-switch"===o.to.formCheck)),f["\u0275\u0275advance"](1),f["\u0275\u0275classProp"]("form-check-input",-1===o.to.formCheck.indexOf("custom"))("custom-control-input",0===o.to.formCheck.indexOf("custom")),f["\u0275\u0275property"]("id",o.id+"_"+n)("value",e.value)("checked",o.isChecked(e))("disabled",o.formControl.disabled||e.disabled)("formlyAttributes",o.field),f["\u0275\u0275advance"](1),f["\u0275\u0275classProp"]("form-check-label",-1===o.to.formCheck.indexOf("custom"))("custom-control-label",0===o.to.formCheck.indexOf("custom")),f["\u0275\u0275property"]("for",o.id+"_"+n),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function V(e,t){if(1&e&&f["\u0275\u0275element"](0,"input",2),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275classProp"]("is-invalid",e.showError),f["\u0275\u0275property"]("type",e.type)("formControl",e.formControl)("formlyAttributes",e.field)}}function j(e,t){if(1&e&&f["\u0275\u0275element"](0,"input",3),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275classProp"]("is-invalid",e.showError),f["\u0275\u0275property"]("formControl",e.formControl)("formlyAttributes",e.field)}}const R=function(e,t,n,o){return{"form-check":e,"form-check-inline":t,"custom-control custom-radio":n,"custom-control-inline":o}};function S(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",1),f["\u0275\u0275element"](1,"input",2),f["\u0275\u0275elementStart"](2,"label",3),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,o=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("ngClass",f["\u0275\u0275pureFunction4"](20,R,-1===o.to.formCheck.indexOf("custom"),"inline"===o.to.formCheck,0===o.to.formCheck.indexOf("custom"),"custom-inline"===o.to.formCheck)),f["\u0275\u0275advance"](1),f["\u0275\u0275classProp"]("form-check-input",-1===o.to.formCheck.indexOf("custom"))("custom-control-input",0===o.to.formCheck.indexOf("custom"))("is-invalid",o.showError),f["\u0275\u0275property"]("id",o.id+"_"+n)("name",o.field.name||o.id)("value",e.value)("formControl",o.formControl)("formlyAttributes",o.field),f["\u0275\u0275attribute"]("value",e.value)("disabled",!(!e.disabled&&!o.formControl.disabled)||null),f["\u0275\u0275advance"](1),f["\u0275\u0275classProp"]("form-check-label",-1===o.to.formCheck.indexOf("custom"))("custom-control-label",0===o.to.formCheck.indexOf("custom")),f["\u0275\u0275property"]("for",o.id+"_"+n),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function A(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275elementStart"](1,"option",7),f["\u0275\u0275text"](2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngValue",e.value)("disabled",e.disabled),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.label)}}function N(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,A,3,3,"ng-container",6),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().ngIf;f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",e)}}function M(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",7),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275property"]("ngValue",e.value)("disabled",e.disabled),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.label)}}function D(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",7),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;f["\u0275\u0275property"]("ngValue",e.value)("disabled",e.disabled),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function $(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"optgroup",10),f["\u0275\u0275template"](1,D,2,3,"option",11),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275property"]("label",e.label),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",e.group)}}function G(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,M,2,3,"option",8),f["\u0275\u0275template"](2,$,2,2,"ng-template",null,9,f["\u0275\u0275templateRefExtractor"]),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275reference"](3);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!e.group)("ngIfElse",n)}}function T(e,t){if(1&e&&f["\u0275\u0275template"](0,G,4,2,"ng-container",6),2&e){const e=f["\u0275\u0275nextContext"]().ngIf;f["\u0275\u0275property"]("ngForOf",e)}}function L(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,N,2,1,"ng-container",4),f["\u0275\u0275template"](2,T,1,1,"ng-template",null,5,f["\u0275\u0275templateRefExtractor"]),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275reference"](3),t=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.to._flatOptions)("ngIfElse",e)}}function H(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"select",2),f["\u0275\u0275template"](1,L,4,2,"ng-container",3),f["\u0275\u0275pipe"](2,"async"),f["\u0275\u0275pipe"](3,"formlySelectOptions"),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275classProp"]("custom-select",e.to.customSelect)("is-invalid",e.showError),f["\u0275\u0275property"]("formControl",e.formControl)("compareWith",e.to.compareWith)("formlyAttributes",e.field),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",f["\u0275\u0275pipeBind1"](2,8,f["\u0275\u0275pipeBind2"](3,10,e.to.options,e.field)))}}function W(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",14),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275property"]("ngValue",null),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.to.placeholder)}}function B(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275elementStart"](1,"option",7),f["\u0275\u0275text"](2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngValue",e.value)("disabled",e.disabled),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.label)}}function z(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,B,3,3,"ng-container",6),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().ngIf;f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",e)}}function q(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",7),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275property"]("ngValue",e.value)("disabled",e.disabled),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.label)}}function Q(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",7),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;f["\u0275\u0275property"]("ngValue",e.value)("disabled",e.disabled),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function J(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"optgroup",10),f["\u0275\u0275template"](1,Q,2,3,"option",11),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275property"]("label",e.label),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",e.group)}}function Z(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,q,2,3,"option",8),f["\u0275\u0275template"](2,J,2,2,"ng-template",null,9,f["\u0275\u0275templateRefExtractor"]),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275reference"](3);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!e.group)("ngIfElse",n)}}function Y(e,t){if(1&e&&f["\u0275\u0275template"](0,Z,4,2,"ng-container",6),2&e){const e=f["\u0275\u0275nextContext"]().ngIf;f["\u0275\u0275property"]("ngForOf",e)}}function U(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275template"](1,z,2,1,"ng-container",4),f["\u0275\u0275template"](2,Y,1,1,"ng-template",null,5,f["\u0275\u0275templateRefExtractor"]),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275reference"](3),t=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.to._flatOptions)("ngIfElse",e)}}function X(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"select",12),f["\u0275\u0275template"](1,W,2,2,"option",13),f["\u0275\u0275template"](2,U,4,2,"ng-container",3),f["\u0275\u0275pipe"](3,"async"),f["\u0275\u0275pipe"](4,"formlySelectOptions"),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275classProp"]("custom-select",e.to.customSelect)("is-invalid",e.showError),f["\u0275\u0275property"]("formControl",e.formControl)("compareWith",e.to.compareWith)("formlyAttributes",e.field),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.to.placeholder),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",f["\u0275\u0275pipeBind1"](3,9,f["\u0275\u0275pipeBind2"](4,11,e.to.options,e.field)))}}function K(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",6),f["\u0275\u0275text"](1,"*"),f["\u0275\u0275elementEnd"]())}function ee(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"label"),f["\u0275\u0275text"](1),f["\u0275\u0275template"](2,K,2,0,"span",5),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275attribute"]("for",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.to.label," "),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.to.required&&!0!==e.to.hideRequiredMarker)}}function te(e,t){}function ne(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",7),f["\u0275\u0275element"](1,"formly-validation-message",8),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275styleProp"]("display","block"),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("field",e.field)}}function oe(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"small",9),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.to.description)}}let ie=(()=>{class e extends s.a{constructor(){super(...arguments),this.defaultOptions={templateOptions:{indeterminate:!0,hideLabel:!0,formCheck:"custom"}}}}return e.\u0275fac=function(t){return re(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-field-checkbox"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:20,consts:[[3,"ngClass"],["type","checkbox",3,"indeterminate","formControl","formlyAttributes"],[3,"for","form-check-label","custom-control-label",4,"ngIf"],[3,"for"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275element"](1,"input",1),f["\u0275\u0275template"](2,w,3,7,"label",2),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("ngClass",f["\u0275\u0275pureFunction6"](13,I,-1===t.to.formCheck.indexOf("custom"),"inline"===t.to.formCheck,0===t.to.formCheck.indexOf("custom"),"custom"===t.to.formCheck||"custom-inline"===t.to.formCheck,"custom-inline"===t.to.formCheck,"custom-switch"===t.to.formCheck)),f["\u0275\u0275advance"](1),f["\u0275\u0275classProp"]("is-invalid",t.showError)("form-check-input",-1===t.to.formCheck.indexOf("custom"))("position-static","nolabel"===t.to.formCheck)("custom-control-input",0===t.to.formCheck.indexOf("custom")),f["\u0275\u0275property"]("indeterminate",t.to.indeterminate&&null===t.formControl.value)("formControl",t.formControl)("formlyAttributes",t.field),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","nolabel"!==t.to.formCheck))},directives:[i.NgClass,r.b,r.o,r.g,s.c,i.NgIf],encapsulation:2}),e})();const re=f["\u0275\u0275getInheritedFactory"](ie);let se=(()=>{class e extends s.a{constructor(){super(...arguments),this.defaultOptions={templateOptions:{options:[],formCheck:"custom"}}}onChange(e,t){this.formControl.markAsDirty(),this.formControl.patchValue("array"===this.to.type?t?[...this.formControl.value||[],e]:[...this.formControl.value||[]].filter(t=>t!==e):Object.assign({},this.formControl.value,{[e]:t})),this.formControl.markAsTouched()}isChecked(e){const t=this.formControl.value;return t&&("array"===this.to.type?-1!==t.indexOf(e.value):t[e.value])}}return e.\u0275fac=function(t){return le(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-field-multicheckbox"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:6,consts:[[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","checkbox",3,"id","value","checked","disabled","formlyAttributes","change"],[3,"for"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275template"](1,P,4,23,"div",0),f["\u0275\u0275pipe"](2,"async"),f["\u0275\u0275pipe"](3,"formlySelectOptions"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",f["\u0275\u0275pipeBind1"](2,1,f["\u0275\u0275pipeBind2"](3,3,t.to.options,t.field))))},directives:[i.NgForOf,i.NgClass,s.c],pipes:[i.AsyncPipe,u],encapsulation:2}),e})();const le=f["\u0275\u0275getInheritedFactory"](se);let ae=(()=>{class e extends s.a{get type(){return this.to.type||"text"}}return e.\u0275fac=function(t){return pe(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-field-input"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:2,consts:[["class","form-control",3,"type","formControl","formlyAttributes","is-invalid",4,"ngIf","ngIfElse"],["numberTmp",""],[1,"form-control",3,"type","formControl","formlyAttributes"],["type","number",1,"form-control",3,"formControl","formlyAttributes"]],template:function(e,t){if(1&e&&(f["\u0275\u0275template"](0,V,1,5,"input",0),f["\u0275\u0275template"](1,j,1,4,"ng-template",null,1,f["\u0275\u0275templateRefExtractor"])),2&e){const e=f["\u0275\u0275reference"](2);f["\u0275\u0275property"]("ngIf","number"!==t.type)("ngIfElse",e)}},directives:[i.NgIf,r.c,r.o,r.g,s.c,r.t],encapsulation:2}),e})();const pe=f["\u0275\u0275getInheritedFactory"](ae);let ce=(()=>{class e extends s.a{constructor(){super(...arguments),this.defaultOptions={templateOptions:{options:[],formCheck:"custom"}}}}return e.\u0275fac=function(t){return de(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-field-radio"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:6,consts:[[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","radio",3,"id","name","value","formControl","formlyAttributes"],[3,"for"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275template"](1,S,4,25,"div",0),f["\u0275\u0275pipe"](2,"async"),f["\u0275\u0275pipe"](3,"formlySelectOptions"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",f["\u0275\u0275pipeBind1"](2,1,f["\u0275\u0275pipeBind2"](3,3,t.to.options,t.field))))},directives:[i.NgForOf,i.NgClass,r.u,r.c,r.o,r.g,s.c],pipes:[i.AsyncPipe,u],encapsulation:2}),e})();const de=f["\u0275\u0275getInheritedFactory"](ce);let fe=(()=>{class e extends s.a{constructor(){super(...arguments),this.defaultOptions={templateOptions:{cols:1,rows:1}}}}return e.\u0275fac=function(t){return ue(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-field-textarea"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:6,consts:[[1,"form-control",3,"formControl","cols","rows","formlyAttributes"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"textarea",0),f["\u0275\u0275text"](1,"    "),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275classProp"]("is-invalid",t.showError),f["\u0275\u0275property"]("formControl",t.formControl)("cols",t.to.cols)("rows",t.to.rows)("formlyAttributes",t.field))},directives:[r.c,r.o,r.g,s.c],encapsulation:2}),e})();const ue=f["\u0275\u0275getInheritedFactory"](fe);let me=(()=>{class e extends s.a{constructor(e){super(),this.ngZone=e,this.defaultOptions={templateOptions:{options:[],compareWith:(e,t)=>e===t}}}set selectAccessor(e){if(!e)return;const t=e.writeValue.bind(e);null===e._getOptionId(e.value)&&t(e.value),e.writeValue=n=>{const i=e._idCounter;t(n),null===n&&this.ngZone.onStable.asObservable().pipe(Object(o.a)(1)).subscribe(()=>{i!==e._idCounter&&null===e._getOptionId(n)&&-1!==e._elementRef.nativeElement.selectedIndex&&t(n)})}}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](f.NgZone))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-field-select"]],viewQuery:function(e,t){var n;1&e&&f["\u0275\u0275viewQuery"](r.x,!0),2&e&&f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.selectAccessor=n.first)},features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:2,consts:[["class","form-control","multiple","",3,"custom-select","formControl","compareWith","is-invalid","formlyAttributes",4,"ngIf","ngIfElse"],["singleSelect",""],["multiple","",1,"form-control",3,"formControl","compareWith","formlyAttributes"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["grouplist",""],[4,"ngFor","ngForOf"],[3,"ngValue","disabled"],[3,"ngValue","disabled",4,"ngIf","ngIfElse"],["optgroup",""],[3,"label"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"form-control",3,"formControl","compareWith","formlyAttributes"],[3,"ngValue",4,"ngIf"],[3,"ngValue"]],template:function(e,t){if(1&e&&(f["\u0275\u0275template"](0,H,4,13,"select",0),f["\u0275\u0275template"](1,X,5,14,"ng-template",null,1,f["\u0275\u0275templateRefExtractor"])),2&e){const e=f["\u0275\u0275reference"](2);f["\u0275\u0275property"]("ngIf",t.to.multiple)("ngIfElse",e)}},directives:[i.NgIf,r.y,r.o,r.g,s.c,i.NgForOf,r.s,r.A,r.x],pipes:[i.AsyncPipe,u],encapsulation:2}),e})(),he=(()=>{class e extends s.b{}return e.\u0275fac=function(t){return ge(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["formly-wrapper-form-field"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:5,consts:[[1,"form-group"],[4,"ngIf"],["fieldComponent",""],["class","invalid-feedback",3,"display",4,"ngIf"],["class","form-text text-muted",4,"ngIf"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[1,"invalid-feedback"],[3,"field"],[1,"form-text","text-muted"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275template"](1,ee,3,3,"label",1),f["\u0275\u0275template"](2,te,0,0,"ng-template",null,2,f["\u0275\u0275templateRefExtractor"]),f["\u0275\u0275template"](4,ne,2,3,"div",3),f["\u0275\u0275template"](5,oe,2,1,"small",4),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275classProp"]("has-error",t.showError),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.to.label&&!0!==t.to.hideLabel),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",t.showError),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.to.description))},directives:[i.NgIf,s.f],encapsulation:2}),e})();const ge=f["\u0275\u0275getInheritedFactory"](he),ye={types:[{name:"input",component:ae,wrappers:["form-field"]},{name:"checkbox",component:ie,wrappers:["form-field"]},{name:"radio",component:ce,wrappers:["form-field"]},{name:"select",component:me,wrappers:["form-field"]},{name:"textarea",component:fe,wrappers:["form-field"]},{name:"multicheckbox",component:se,wrappers:["form-field"]}],wrappers:[{name:"form-field",component:he}]};let Ce=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.CommonModule,r.v,m,s.e.forChild(ye),F]]}),e})()}}]);