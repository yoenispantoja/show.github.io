(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"8wWH":function(e,t,i){"use strict";i.r(t);var n=i("SVse"),s=i("M0ag"),o=i("s7LF"),r=i("SfIc"),a=i("6yq/"),l=i("iInd"),p=i("ZZ88"),d=i("AytR"),m=i("8Y7J"),c=i("IheW");let u=d.a.apiMedias+"medias/",h=(()=>{class e{constructor(e){this.myHttp=e,this.url=d.a.apiUrl+"/media"}getMedias(){return this.myHttp.get(this.url)}addMedia(e){return this.myHttp.post(this.url,e)}editMedia(e,t){return this.myHttp.put(this.url+"/"+e,t)}deleteMedia(e){return this.myHttp.delete(this.url+"/"+e)}getColumnasTablaMedias(){return[{data:function(e,t,i){return'<img style="object-fit: cover" width="100px" height="60px" src="'+u+e.nombre+'">'},className:"text-center"},{data:"nombre",className:"text-center"},{data:function(e,t,i){return(e.tamanno/1024).toFixed(2)+" kB"},className:"text-center"},{data:"mime_type",className:"text-center"},{data:"publicadaPor.nombre",className:"text-center"}]}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275inject"](c.b))},e.\u0275prov=m["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=i("m3o8"),g=i("3zLz"),v=i("pK/H");const b=["successSwal"],y=function(){return["router-link-active"]};let x=(()=>{class e{constructor(e,t,i){this.myServicio=e,this.router=t,this._lightbox=i,this.urlApi=d.a.apiUrl+"/media",this.urlMedias=d.a.apiMedias+"/medias/",this.medias=[],this.nombresColumnas=["Imagen","Nombre","Tama\xf1o","Extensi\xf3n","Publicada por"]}ngOnInit(){this.columnasData=this.myServicio.getColumnasTablaMedias()}verDetallesMedia(e){this.medias=[{src:this.urlMedias+"/"+e.nombre,caption:e.nombre,thumb:this.urlMedias+"/"+e.nombre}],this._lightbox.open(this.medias,0)}eliminarMedia(e){this.myServicio.deleteMedia(e).subscribe(e=>{e&&this.successSwal.show()},e=>{console.log(e)})}close(){this._lightbox.close()}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](h),m["\u0275\u0275directiveInject"](l.e),m["\u0275\u0275directiveInject"](f.Lightbox))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-lista-medias"]],viewQuery:function(e,t){var i;1&e&&m["\u0275\u0275viewQuery"](b,!0),2&e&&m["\u0275\u0275queryRefresh"](i=m["\u0275\u0275loadQuery"]())&&(t.successSwal=i.first)},decls:12,vars:12,consts:[[1,"titlePage"],[3,"heading","icon"],["routerLink","/admin/medias/adicionar-medias",1,"btn","btn-sm","btn-primary","linkAdicionar",3,"routerLinkActive"],[1,"fa","fa-plus-circle"],[1,"row"],[1,"col-md-12"],[3,"nombresColumnas","urlApi","tituloReporte","columnasData","puedeEditar","verDetallesClick","eliminarClick"],["title","Information","text","The media has been deleted","type","success",3,"showCancelButton","focusCancel"],["successSwal",""]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"div",0),m["\u0275\u0275element"](2,"app-page-header",1),m["\u0275\u0275elementStart"](3,"a",2),m["\u0275\u0275element"](4,"i",3),m["\u0275\u0275text"](5," Add media "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"div",5),m["\u0275\u0275elementStart"](8,"dymtabla",6),m["\u0275\u0275listener"]("verDetallesClick",(function(e){return t.verDetallesMedia(e)}))("eliminarClick",(function(e){return t.eliminarMedia(e)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](9,"br"),m["\u0275\u0275element"](10,"swal",7,8),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("@routerTransition",void 0),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("heading","Media list")("icon","fa-pencil-square"),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("routerLinkActive",m["\u0275\u0275pureFunction0"](11,y)),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("nombresColumnas",t.nombresColumnas)("urlApi",t.urlApi)("tituloReporte","Media list")("columnasData",t.columnasData)("puedeEditar",!1),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("showCancelButton",!1)("focusCancel",!0))},directives:[g.a,l.g,l.f,v.a,r.a],styles:[".titlePage[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;justify-content:space-between}.titlePage[_ngcontent-%COMP%]   .linkAdicionar[_ngcontent-%COMP%]{height:32px;width:150px}"],data:{animation:[Object(p.a)()]}}),e})();class _{constructor(e){var t;this.rawFile=e;let i=(t=e)&&(t.nodeName||t.prop&&t.attr&&t.find)?e.value:e;this["_createFrom"+("string"==typeof i?"FakePath":"Object")](i)}_createFromFakePath(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)}_createFromObject(e){this.size=e.size,this.type=e.type,this.name=e.name}}class S{constructor(e,t,i){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=t,this.options=i,this.file=new _(t),this._file=t,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}upload(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(e){return{form:e}}onProgress(e){return{progress:e}}onSuccess(e,t,i){return{response:e,status:t,headers:i}}onError(e,t,i){return{response:e,status:t,headers:i}}onCancel(e,t,i){return{response:e,status:t,headers:i}}onComplete(e,t,i){return{response:e,status:t,headers:i}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(e){this.onBuildForm(e)}_onProgress(e){this.progress=e,this.onProgress(e)}_onSuccess(e,t,i){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,t,i)}_onError(e,t,i){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,t,i)}_onCancel(e,t,i){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,t,i)}_onComplete(e,t,i){this.onComplete(e,t,i),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let w=(()=>{class e{static getMimeClass(e){let t="application";return-1!==this.mime_psd.indexOf(e.type)?t="image":e.type.match("image.*")?t="image":e.type.match("video.*")?t="video":e.type.match("audio.*")?t="audio":"application/pdf"===e.type?t="pdf":-1!==this.mime_compress.indexOf(e.type)?t="compress":-1!==this.mime_doc.indexOf(e.type)?t="doc":-1!==this.mime_xsl.indexOf(e.type)?t="xls":-1!==this.mime_ppt.indexOf(e.type)&&(t="ppt"),"application"===t&&(t=this.fileTypeDetection(e.name)),t}static fileTypeDetection(e){let t={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},i=e.split(".");if(i.length<2)return"application";let n=i[i.length-1].toLowerCase();return void 0===t[n]?"application":t[n]}}return e.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],e.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],e.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],e.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],e.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],e})();class E{constructor(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:e=>e._file,formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new m.EventEmitter}setOptions(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url}addToQueue(e,t,i){let n=[];for(let a of e)n.push(a);let s=this._getFilters(i),o=this.queue.length,r=[];n.map(e=>{t||(t=this.options);let i=new _(e);if(this._isValidFile(i,s,t)){let i=new S(this,e,t);r.push(i),this.queue.push(i),this._onAfterAddingFile(i)}else this._onWhenAddingFileFailed(i,s[this._failFilterIndex],t)}),this.queue.length!==o&&(this._onAfterAddingAll(r),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(e){let t=this.getIndexOfItem(e),i=this.queue[t];i.isUploading&&i.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(e){let t=this.getIndexOfItem(e),i=this.queue[t],n=this.options.isHTML5?"_xhrTransport":"_iframeTransport";i._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[n](i))}cancelItem(e){let t=this.getIndexOfItem(e),i=this.queue[t];i&&i.isUploading&&(this.options.isHTML5?i._xhr:i._form).abort()}uploadAll(){let e=this.getNotUploadedItems().filter(e=>!e.isUploading);e.length&&(e.map(e=>e._prepareToUploading()),e[0].upload())}cancelAll(){this.getNotUploadedItems().map(e=>e.cancel())}isFile(e){return function(e){return File&&e instanceof File}(e)}isFileLikeObject(e){return e instanceof _}getIndexOfItem(e){return"number"==typeof e?e:this.queue.indexOf(e)}getNotUploadedItems(){return this.queue.filter(e=>!e.isUploaded)}getReadyItems(){return this.queue.filter(e=>e.isReady&&!e.isUploading).sort((e,t)=>e.index-t.index)}destroy(){}onAfterAddingAll(e){return{fileItems:e}}onBuildItemForm(e,t){return{fileItem:e,form:t}}onAfterAddingFile(e){return{fileItem:e}}onWhenAddingFileFailed(e,t,i){return{item:e,filter:t,options:i}}onBeforeUploadItem(e){return{fileItem:e}}onProgressItem(e,t){return{fileItem:e,progress:t}}onProgressAll(e){return{progress:e}}onSuccessItem(e,t,i,n){return{item:e,response:t,status:i,headers:n}}onErrorItem(e,t,i,n){return{item:e,response:t,status:i,headers:n}}onCancelItem(e,t,i,n){return{item:e,response:t,status:i,headers:n}}onCompleteItem(e,t,i,n){return{item:e,response:t,status:i,headers:n}}onCompleteAll(){}_mimeTypeFilter(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))}_fileSizeFilter(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)}_fileTypeFilter(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(w.getMimeClass(e)))}_onErrorItem(e,t,i,n){e._onError(t,i,n),this.onErrorItem(e,t,i,n)}_onCompleteItem(e,t,i,n){e._onComplete(t,i,n),this.onCompleteItem(e,t,i,n);let s=this.getReadyItems()[0];this.isUploading=!1,s?s.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(e){return t=>t?e[t.toLowerCase()]||void 0:e}_xhrTransport(e){let t,i=this,n=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)t=this.options.formatDataFunction(e);else{t=new FormData,this._onBuildItemForm(e,t);const i=()=>t.append(e.alias,e._file,e.file.name);this.options.parametersBeforeFiles||i(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(i=>{let n=this.options.additionalParameter[i];"string"==typeof n&&n.indexOf("{{file_name}}")>=0&&(n=n.replace("{{file_name}}",e.file.name)),t.append(i,n)}),this.options.parametersBeforeFiles&&i()}if(n.upload.onprogress=t=>{let i=Math.round(t.lengthComputable?100*t.loaded/t.total:0);this._onProgressItem(e,i)},n.onload=()=>{let t=this._parseHeaders(n.getAllResponseHeaders()),i=this._transformResponse(n.response,t);this["_on"+(this._isSuccessCode(n.status)?"Success":"Error")+"Item"](e,i,n.status,t),this._onCompleteItem(e,i,n.status,t)},n.onerror=()=>{let t=this._parseHeaders(n.getAllResponseHeaders()),i=this._transformResponse(n.response,t);this._onErrorItem(e,i,n.status,t),this._onCompleteItem(e,i,n.status,t)},n.onabort=()=>{let t=this._parseHeaders(n.getAllResponseHeaders()),i=this._transformResponse(n.response,t);this._onCancelItem(e,i,n.status,t),this._onCompleteItem(e,i,n.status,t)},n.open(e.method,e.url,!0),n.withCredentials=e.withCredentials,this.options.headers)for(let s of this.options.headers)n.setRequestHeader(s.name,s.value);if(e.headers.length)for(let s of e.headers)n.setRequestHeader(s.name,s.value);this.authToken&&n.setRequestHeader(this.authTokenHeader,this.authToken),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&i.response.emit(n.responseText)},this.options.formatDataFunctionIsAsync?t.then(e=>n.send(JSON.stringify(e))):n.send(t),this._render()}_getTotalProgress(e=0){if(this.options.removeAfterUpload)return e;let t=this.getNotUploadedItems().length,i=100/this.queue.length;return Math.round((t?this.queue.length-t:this.queue.length)*i+e*i/100)}_getFilters(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){let t=e.match(/[^\s,]+/g);return this.options.filters.filter(e=>-1!==t.indexOf(e.name))}return this.options.filters}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(e,t,i){return this._failFilterIndex=-1,!t.length||t.every(t=>(this._failFilterIndex++,t.fn.call(this,e,i)))}_isSuccessCode(e){return e>=200&&e<300||304===e}_transformResponse(e,t){return e}_parseHeaders(e){let t,i,n,s={};return e?(e.split("\n").map(e=>{n=e.indexOf(":"),t=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim(),t&&(s[t]=s[t]?s[t]+", "+i:i)}),s):s}_onWhenAddingFileFailed(e,t,i){this.onWhenAddingFileFailed(e,t,i)}_onAfterAddingFile(e){this.onAfterAddingFile(e)}_onAfterAddingAll(e){this.onAfterAddingAll(e)}_onBeforeUploadItem(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)}_onBuildItemForm(e,t){e._onBuildForm(t),this.onBuildItemForm(e,t)}_onProgressItem(e,t){let i=this._getTotalProgress(t);this.progress=i,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(i),this._render()}_onSuccessItem(e,t,i,n){e._onSuccess(t,i,n),this.onSuccessItem(e,t,i,n)}_onCancelItem(e,t,i,n){e._onCancel(t,i,n),this.onCancelItem(e,t,i,n)}}let F=(()=>{class e{constructor(e){this.onFileSelected=new m.EventEmitter,this.element=e}getOptions(){return this.uploader.options}getFilters(){return{}}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){let e=this.element.nativeElement.files,t=this.getOptions(),i=this.getFilters();this.uploader.addToQueue(e,t,i),this.onFileSelected.emit(e),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ElementRef))},e.\u0275dir=m["\u0275\u0275defineDirective"]({type:e,selectors:[["","ng2FileSelect",""]],hostBindings:function(e,t){1&e&&m["\u0275\u0275listener"]("change",(function(){return t.onChange()}))},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}}),e})(),I=(()=>{class e{constructor(e){this.fileOver=new m.EventEmitter,this.onFileDrop=new m.EventEmitter,this.element=e}getOptions(){return this.uploader.options}getFilters(){return{}}onDrop(e){let t=this._getTransfer(e);if(!t)return;let i=this.getOptions(),n=this.getFilters();this._preventAndStop(e),this.uploader.addToQueue(t.files,i,n),this.fileOver.emit(!1),this.onFileDrop.emit(t.files)}onDragOver(e){let t=this._getTransfer(e);this._haveFiles(t.types)&&(t.dropEffect="copy",this._preventAndStop(e),this.fileOver.emit(!0))}onDragLeave(e){this.element&&e.currentTarget===this.element[0]||(this._preventAndStop(e),this.fileOver.emit(!1))}_getTransfer(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer}_preventAndStop(e){e.preventDefault(),e.stopPropagation()}_haveFiles(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ElementRef))},e.\u0275dir=m["\u0275\u0275defineDirective"]({type:e,selectors:[["","ng2FileDrop",""]],hostBindings:function(e,t){1&e&&m["\u0275\u0275listener"]("drop",(function(e){return t.onDrop(e)}))("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}}),e})(),C=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[n.CommonModule]]}),e})(),A=(()=>{class e{constructor(e,t){this.el=e,this.renderer=t}ngOnChanges(e){let t=new FileReader,i=this.el;if(t.onloadend=function(e){i.nativeElement.src=t.result},this.image)return t.readAsDataURL(this.image)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](m.ElementRef),m["\u0275\u0275directiveInject"](m.Renderer2))},e.\u0275dir=m["\u0275\u0275defineDirective"]({type:e,selectors:[["img","imgPreview",""]],inputs:{image:"image"},features:[m["\u0275\u0275NgOnChangesFeature"]]}),e})();const O=["confirmSwal"];function T(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275element"](1,"i",34),m["\u0275\u0275elementEnd"]())}function M(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275element"](1,"i",35),m["\u0275\u0275elementEnd"]())}const U=function(e){return{width:e}};function P(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275elementStart"](1,"td"),m["\u0275\u0275element"](2,"img",27),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"td"),m["\u0275\u0275elementStart"](4,"strong"),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"td"),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"number"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"td"),m["\u0275\u0275elementStart"](10,"div",28),m["\u0275\u0275element"](11,"div",29),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"td",30),m["\u0275\u0275template"](13,T,2,0,"span",11),m["\u0275\u0275template"](14,M,2,0,"span",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"td",31),m["\u0275\u0275elementStart"](16,"button",32),m["\u0275\u0275listener"]("click",(function(){return t.$implicit.upload()})),m["\u0275\u0275element"](17,"span",24),m["\u0275\u0275text"](18," Subir "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"button",33),m["\u0275\u0275listener"]("click",(function(){return t.$implicit.remove()})),m["\u0275\u0275element"](20,"span",26),m["\u0275\u0275text"](21," Eliminar "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("image",null==e?null:e._file),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](null==e?null:null==e.file?null:e.file.name),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"]("",m["\u0275\u0275pipeBind2"](8,7,(null==e?null:null==e.file?null:e.file.size)/1024/1024,".2")," MB"),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngStyle",m["\u0275\u0275pureFunction1"](10,U,e.progress+"%")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",e.isSuccess),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isError),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("disabled",e.isReady||e.isUploading||e.isSuccess)}}function k(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementContainerStart"](0),m["\u0275\u0275elementStart"](1,"div",1),m["\u0275\u0275elementStart"](2,"div",14),m["\u0275\u0275elementStart"](3,"table",15),m["\u0275\u0275elementStart"](4,"thead"),m["\u0275\u0275elementStart"](5,"tr"),m["\u0275\u0275elementStart"](6,"th",16),m["\u0275\u0275text"](7,"Imagen"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"th",17),m["\u0275\u0275text"](9,"Nombre"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"th"),m["\u0275\u0275text"](11,"Tama\xf1o"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"th"),m["\u0275\u0275text"](13,"Progreso"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"th"),m["\u0275\u0275text"](15,"Estado"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"th",18),m["\u0275\u0275text"](17,"Acciones"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"tbody"),m["\u0275\u0275template"](19,P,22,12,"tr",19),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](20,"br"),m["\u0275\u0275elementStart"](21,"div",1),m["\u0275\u0275elementStart"](22,"div",14),m["\u0275\u0275element"](23,"div",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](24,"br"),m["\u0275\u0275elementStart"](25,"div",21),m["\u0275\u0275elementStart"](26,"div",22),m["\u0275\u0275elementStart"](27,"button",23),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().uploader.uploadAll()})),m["\u0275\u0275element"](28,"span",24),m["\u0275\u0275text"](29," Subir todas "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](30,"button",25),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().uploader.clearQueue()})),m["\u0275\u0275element"](31,"span",26),m["\u0275\u0275text"](32," Eliminar todas "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](19),m["\u0275\u0275property"]("ngForOf",e.uploader.queue),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngStyle",m["\u0275\u0275pureFunction1"](4,U,e.uploader.progress+"%")),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("disabled",!e.uploader.getNotUploadedItems().length),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("disabled",!e.uploader.queue.length)}}const D=function(e){return{"nv-file-over":e}},q=[{path:"",component:x},{path:"adicionar-medias",component:(()=>{class e{constructor(){this.urlApi=d.a.apiUrl+"/media",this.uploader=new E({url:this.urlApi,authToken:"Bearer "+localStorage.getItem("token"),disableMultipart:!1,headers:[{name:"Access-Control-Allow-Origin",value:"*"},{name:"Access-Control-Allow-Methods",value:"POST, OPTIONS, GET"},{name:"Access-Control-Allow-Credentials",value:"true"}],formatDataFunctionIsAsync:!1}),this.uploader.onAfterAddingFile=e=>{e.withCredentials=!1},this.hasBaseDropZoneOver=!1,this.response="",this.uploader.response.subscribe(e=>this.response=e),this.uploader.onCompleteItem=(e,t,i,n)=>{console.log(i),200==i&&this.confirmSwal.show()}}onFileSelected(e){}fileOverBase(e){this.hasBaseDropZoneOver=e}ngOnInit(){}cerrarVentana(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-adicionar-medias"]],viewQuery:function(e,t){var i;1&e&&m["\u0275\u0275staticViewQuery"](O,!0),2&e&&m["\u0275\u0275queryRefresh"](i=m["\u0275\u0275loadQuery"]())&&(t.confirmSwal=i.first)},decls:23,vars:12,consts:[[3,"heading","icon"],[1,"row"],[1,"col-9"],["ng2FileDrop","",1,"well","my-drop-zone",3,"ngClass","uploader","fileOver","onFileDrop"],[1,"col-3","align-self-center"],[1,"btnCargarArchivos"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-image"],["hidden","","type","file","ng2FileSelect","","multiple","",3,"uploader","onFileSelected"],["fileInput",""],[1,"totalImagenes"],[4,"ngIf"],["title","Informaci\xf3n","text","Las im\xe1genes han sido subidas correctamente","type","success",3,"showCancelButton","focusCancel","confirm"],["confirmSwal",""],[1,"col-12"],[1,"table","table-bordered"],["width","110px"],["width","20%"],["width","15%"],[4,"ngFor","ngForOf"],["role","progressbar",1,"progress","progress-bar",3,"ngStyle"],[1,"row","justify-content-end"],[1,"col-6","botonesGenerales"],["type","button",1,"btn","btn-success","btn-s",3,"disabled","click"],[1,"fa","fa-upload"],["type","button",1,"btn","btn-danger","btn-s",3,"disabled","click"],[1,"fa","fa-trash"],["src","","imgPreview","",1,"imageTabla",3,"image"],[1,"progress",2,"margin-bottom","0"],["role","progressbar",1,"progress-bar",3,"ngStyle"],[1,"text-center"],["nowrap","",1,"botonesFila"],["type","button",1,"btn","btn-success","btn-sm",3,"disabled","click"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-check-circle"],[1,"fa","fa-remove"]],template:function(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275element"](1,"app-page-header",0),m["\u0275\u0275elementStart"](2,"div",1),m["\u0275\u0275elementStart"](3,"div",2),m["\u0275\u0275elementStart"](4,"div",3),m["\u0275\u0275listener"]("fileOver",(function(e){return t.fileOverBase(e)}))("onFileDrop",(function(e){return t.onFileSelected(e)})),m["\u0275\u0275text"](5," Arrastre y suelte las im\xe1genes aqu\xed "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"div",5),m["\u0275\u0275elementStart"](8,"button",6),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275reference"](12).click()})),m["\u0275\u0275element"](9,"i",7),m["\u0275\u0275text"](10," O seleccione los archivos "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"input",8,9),m["\u0275\u0275listener"]("onFileSelected",(function(e){return t.onFileSelected(e)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](13,"br"),m["\u0275\u0275element"](14,"br"),m["\u0275\u0275elementStart"](15,"strong",10),m["\u0275\u0275text"](16),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](17,"br"),m["\u0275\u0275template"](18,k,33,6,"ng-container",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](19,"br"),m["\u0275\u0275element"](20,"br"),m["\u0275\u0275elementStart"](21,"swal",12,13),m["\u0275\u0275listener"]("confirm",(function(){return t.cerrarVentana()})),m["\u0275\u0275elementEnd"]()}2&e&&(m["\u0275\u0275property"]("@routerTransition",void 0),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("heading","Adicionar medias")("icon","fa-pencil-square"),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngClass",m["\u0275\u0275pureFunction1"](10,D,t.hasBaseDropZoneOver))("uploader",t.uploader),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("uploader",t.uploader),m["\u0275\u0275advance"](5),m["\u0275\u0275textInterpolate1"]("Total de im\xe1genes: ",null==t.uploader?null:null==t.uploader.queue?null:t.uploader.queue.length,""),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",t.uploader.queue.length>0),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("showCancelButton",!1)("focusCancel",!0))},directives:[g.a,I,n.NgClass,F,n.NgIf,r.a,n.NgForOf,n.NgStyle,A],pipes:[n.DecimalPipe],styles:[".my-drop-zone[_ngcontent-%COMP%]{color:#ccc;border-style:dashed;border-color:#ccc;line-height:150px;text-align:center;height:150px}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}.another-file-over-class[_ngcontent-%COMP%]{border:3px dotted green}.botonesGenerales[_ngcontent-%COMP%]{text-align:right}.botonesGenerales[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.botonesFila[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:3px}.imageTabla[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100px;height:60px}.totalImagenes[_ngcontent-%COMP%]{background-color:#f5f2f2;border:2px dashed #9e9c9c;padding:16px;height:100%;width:100%}"],data:{animation:[Object(p.a)()]}}),e})()}];let B=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.h.forChild(q)],l.h]}),e})();i.d(t,"MediasModule",(function(){return R}));let R=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[n.CommonModule,B,s.b,o.v,o.k,r.b,a.a,C]]}),e})()}}]);